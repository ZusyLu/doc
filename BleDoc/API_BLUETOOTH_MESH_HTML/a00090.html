<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Silicon Labs Bluetooth Mesh API: Bluetooth Mesh Low Power Node API</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Silicon Labs Bluetooth Mesh API
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('a00090.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Modules</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Bluetooth Mesh Low Power Node API</div>  </div>
</div><!--header-->
<div class="contents">

<p>Bluetooth Mesh Low Power Node API.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="groups"></a>
Modules</h2></td></tr>
<tr class="memitem:a00091"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00091.html">sl_btmesh_evt_lpn_friendship_established</a></td></tr>
<tr class="memdesc:a00091"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that a friendship has been established. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00092"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00092.html">sl_btmesh_evt_lpn_friendship_failed</a></td></tr>
<tr class="memdesc:a00092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that the friendship establishment has failed. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00093"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00093.html">sl_btmesh_evt_lpn_friendship_terminated</a></td></tr>
<tr class="memdesc:a00093"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicate that a friendship that was successfully established has been terminated. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab47d152c953bdacb97adb9adc072c092"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00090.html#gab47d152c953bdacb97adb9adc072c092">sl_btmesh_lpn_settings_t</a> { <br />
&#160;&#160;<a class="el" href="a00090.html#ggab47d152c953bdacb97adb9adc072c092a8640ac8a1bec3e09e31c40fd446436e4">sl_btmesh_lpn_queue_length</a> = 0x0, 
<a class="el" href="a00090.html#ggab47d152c953bdacb97adb9adc072c092acf10e4731f69ee00047d104086982d0a">sl_btmesh_lpn_poll_timeout</a> = 0x1, 
<a class="el" href="a00090.html#ggab47d152c953bdacb97adb9adc072c092a7f42edf74385dac2dddce1d89120bcd2">sl_btmesh_lpn_receive_delay</a> = 0x2, 
<a class="el" href="a00090.html#ggab47d152c953bdacb97adb9adc072c092ad6625572327d9ad1823cb04a7382989c">sl_btmesh_lpn_request_retries</a> = 0x3, 
<br />
&#160;&#160;<a class="el" href="a00090.html#ggab47d152c953bdacb97adb9adc072c092ad8057a222ced7e9e961622bf1a87762e">sl_btmesh_lpn_retry_interval</a> = 0x4
<br />
 }<tr class="memdesc:gab47d152c953bdacb97adb9adc072c092"><td class="mdescLeft">&#160;</td><td class="mdescRight">Key values to identify LPN configurations.  <a href="a00090.html#gab47d152c953bdacb97adb9adc072c092">More...</a><br /></td></tr>
</td></tr>
<tr class="separator:gab47d152c953bdacb97adb9adc072c092"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga15866453cb9d833a3024b22cd20e617c"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00090.html#ga15866453cb9d833a3024b22cd20e617c">sl_btmesh_lpn_init</a> ()</td></tr>
<tr class="separator:ga15866453cb9d833a3024b22cd20e617c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae955b07623f13dec310d548aed1d57f2"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00090.html#gae955b07623f13dec310d548aed1d57f2">sl_btmesh_lpn_deinit</a> ()</td></tr>
<tr class="separator:gae955b07623f13dec310d548aed1d57f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga163e6dd51f57915dbb13ca702be2eb2e"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00090.html#ga163e6dd51f57915dbb13ca702be2eb2e">sl_btmesh_lpn_establish_friendship</a> (uint16_t netkey_index)</td></tr>
<tr class="separator:ga163e6dd51f57915dbb13ca702be2eb2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace3820fc4f512b5f5a3c2c8c203cd9c8"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00090.html#gace3820fc4f512b5f5a3c2c8c203cd9c8">sl_btmesh_lpn_poll</a> (uint16_t netkey_index)</td></tr>
<tr class="separator:gace3820fc4f512b5f5a3c2c8c203cd9c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaab4209ba3fb7fded532908883e2cfe42"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00090.html#gaab4209ba3fb7fded532908883e2cfe42">sl_btmesh_lpn_terminate_friendship</a> (uint16_t netkey_index)</td></tr>
<tr class="separator:gaab4209ba3fb7fded532908883e2cfe42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f0fa382c33c7da57a7d073cf8ecba12"><td class="memItemLeft" align="right" valign="top">sl_status_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00090.html#ga8f0fa382c33c7da57a7d073cf8ecba12">sl_btmesh_lpn_config</a> (uint8_t setting_id, uint32_t value)</td></tr>
<tr class="separator:ga8f0fa382c33c7da57a7d073cf8ecba12"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Bluetooth Mesh Low Power Node API. </p>
<p>These commands and events are for low-power operation, available in nodes which have the LPN feature. </p>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="gab47d152c953bdacb97adb9adc072c092"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab47d152c953bdacb97adb9adc072c092">&#9670;&nbsp;</a></span>sl_btmesh_lpn_settings_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="a00090.html#gab47d152c953bdacb97adb9adc072c092">sl_btmesh_lpn_settings_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Key values to identify LPN configurations. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ggab47d152c953bdacb97adb9adc072c092a8640ac8a1bec3e09e31c40fd446436e4"></a>sl_btmesh_lpn_queue_length&#160;</td><td class="fielddoc"><p>(0x0) Minimum queue length that the friend must support. Choose an appropriate length based on the expected message frequency and LPN sleep period because messages that do not fit into the friend queue are dropped. Note that the given value is rounded up to the nearest power of 2. Range: 2..128 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab47d152c953bdacb97adb9adc072c092acf10e4731f69ee00047d104086982d0a"></a>sl_btmesh_lpn_poll_timeout&#160;</td><td class="fielddoc"><p>(0x1) Poll timeout in milliseconds, which is the longest time that LPN sleeps in between querying its friend for queued messages. Long poll timeout allows the LPN to sleep for longer periods, at the expense of increased latency for receiving messages. Note that the given value is rounded up to the nearest 100 ms Range: 1 s to 95 h 59 min 59 s 900 ms </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab47d152c953bdacb97adb9adc072c092a7f42edf74385dac2dddce1d89120bcd2"></a>sl_btmesh_lpn_receive_delay&#160;</td><td class="fielddoc"><p>(0x2) Receive delay in milliseconds. Receive delay is the time between the LPN sending a request and listening for a response. Receive delay allows the friend node time to prepare the message and LPN to sleep. Range: 10 ms to 255 ms The default receive delay in 10 ms. </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab47d152c953bdacb97adb9adc072c092ad6625572327d9ad1823cb04a7382989c"></a>sl_btmesh_lpn_request_retries&#160;</td><td class="fielddoc"><p>(0x3) Request retry is the number of retry attempts to repeat e.g., the friend poll message if the friend update was not received by the LPN. Range is from 0 to 10, default is 3 </p>
</td></tr>
<tr><td class="fieldname"><a id="ggab47d152c953bdacb97adb9adc072c092ad8057a222ced7e9e961622bf1a87762e"></a>sl_btmesh_lpn_retry_interval&#160;</td><td class="fielddoc"><p>(0x4) Time interval between retry attempts in milliseconds. Range is 0 to 100 ms. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga15866453cb9d833a3024b22cd20e617c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga15866453cb9d833a3024b22cd20e617c">&#9670;&nbsp;</a></span>sl_btmesh_lpn_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_btmesh_lpn_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the Low Power node (LPN) mode. The node needs to be provisioned before calling this command. After the LPN mode is initialized, the node can't operate in the network without a Friend node. To establish a friendship with a nearby Friend node, use the <a class="el" href="a00090.html#ga163e6dd51f57915dbb13ca702be2eb2e">sl_btmesh_lpn_establish_friendship</a> command. Make this call before calling the other commands in this class.</p>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="gae955b07623f13dec310d548aed1d57f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gae955b07623f13dec310d548aed1d57f2">&#9670;&nbsp;</a></span>sl_btmesh_lpn_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_btmesh_lpn_deinit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Deinitialize the LPN functionality. After calling this command, a possible friendship with a Friend node is terminated and the node can operate in the network independently. After calling this command, do not call any other command in this class before the Low Power mode is <a class="el" href="a00090.html#ga15866453cb9d833a3024b22cd20e617c">sl_btmesh_lpn_init</a> again.</p>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga163e6dd51f57915dbb13ca702be2eb2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga163e6dd51f57915dbb13ca702be2eb2e">&#9670;&nbsp;</a></span>sl_btmesh_lpn_establish_friendship()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_btmesh_lpn_establish_friendship </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>netkey_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Establish a friendship. After a friendship has been established, the node can start saving power.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">netkey_index</td><td>Network key index used in friendship request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="gace3820fc4f512b5f5a3c2c8c203cd9c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gace3820fc4f512b5f5a3c2c8c203cd9c8">&#9670;&nbsp;</a></span>sl_btmesh_lpn_poll()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_btmesh_lpn_poll </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>netkey_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Poll the Friend node for stored messages and security updates. This command may be used if the application is expecting to receive messages at a specific time. However, it is not required for correct operation, because the procedure will be performed autonomously before the poll timeout expires.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">netkey_index</td><td>Network key index used in poll</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="gaab4209ba3fb7fded532908883e2cfe42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaab4209ba3fb7fded532908883e2cfe42">&#9670;&nbsp;</a></span>sl_btmesh_lpn_terminate_friendship()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_btmesh_lpn_terminate_friendship </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>netkey_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Terminate an already established friendship. <a class="el" href="a00093.html">sl_btmesh_evt_lpn_friendship_terminated</a> event will be emitted when the friendship termination has been completed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">netkey_index</td><td>Network key index used in friendship request</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
<a id="ga8f0fa382c33c7da57a7d073cf8ecba12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga8f0fa382c33c7da57a7d073cf8ecba12">&#9670;&nbsp;</a></span>sl_btmesh_lpn_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sl_status_t sl_btmesh_lpn_config </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>setting_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure the parameters for friendship establishment and LPN behavior.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">setting_id</td><td>Enum <a class="el" href="a00090.html#gab47d152c953bdacb97adb9adc072c092">sl_btmesh_lpn_settings_t</a>. Identifies the LPN setting to be updated. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>New value for the given setting</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>SL_STATUS_OK if successful. Error code otherwise. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
