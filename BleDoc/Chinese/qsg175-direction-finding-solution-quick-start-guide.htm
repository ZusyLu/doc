<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>QSG175: Silicon Labs Direction-Finding Solution Quick-Start Guide</title><meta name="author" content="Silicon Labs"/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 h1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 24pt; }
 .s1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 6pt; }
 .s2 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s3 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s4 { color: #007693; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 h4 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 11pt; }
 .p, p { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; margin:0pt; }
 .s5 { color: black; font-family:Arial, sans-serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .a { color: #00F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt; }
 .s6 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s7 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s8 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s9 { color: #049; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s11 { color: #FFF; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s12 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s13 { color: black; font-family:Wingdings; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 .s14 { color: black; font-family:"Times New Roman", serif; font-style: italic; font-weight: normal; text-decoration: none; font-size: 9.5pt; }
 h2 { color: #FFF; font-family:"Lucida Sans", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 20pt; }
 .s15 { color: #FFF; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s16 { color: #4C4D4F; font-family:"Lucida Sans", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s17 { color: #424242; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s18 { color: #424242; font-family:"Lucida Sans", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 .s19 { color: #4C4D4F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s20 { color: #4C4D4F; font-family:"Arial Black", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s22 { color: #4C4D4F; font-family:"Lucida Sans", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 .s24 { color: #0086DD; font-family:"Lucida Sans", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 .s25 { color: #4C4D4F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 4pt; vertical-align: 2pt; }
 h3 { color: #FB1725; font-family:"Lucida Sans", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 li {display: block; }
 #l2 {padding-left: 0pt;counter-reset: d1 1; }
 #l2> li>*:first-child:before {counter-increment: d1; content: counter(d1, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 11pt; }
 #l2> li:first-child>*:first-child:before {counter-increment: d1 0;  }
 #l3 {padding-left: 0pt;counter-reset: d2 1; }
 #l3> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l3> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l4 {padding-left: 0pt; }
 #l4> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l5 {padding-left: 0pt;counter-reset: d3 1; }
 #l5> li>*:first-child:before {counter-increment: d3; content: counter(d1, decimal)"."counter(d2, decimal)"."counter(d3, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l5> li:first-child>*:first-child:before {counter-increment: d3 0;  }
 #l6 {padding-left: 0pt;counter-reset: f1 1; }
 #l6> li>*:first-child:before {counter-increment: f1; content: counter(f1, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l6> li:first-child>*:first-child:before {counter-increment: f1 0;  }
 #l7 {padding-left: 0pt;counter-reset: g1 1; }
 #l7> li>*:first-child:before {counter-increment: g1; content: counter(g1, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l7> li:first-child>*:first-child:before {counter-increment: g1 0;  }
 #l8 {padding-left: 0pt;counter-reset: h1 1; }
 #l8> li>*:first-child:before {counter-increment: h1; content: counter(h1, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l8> li:first-child>*:first-child:before {counter-increment: h1 0;  }
 #l9 {padding-left: 0pt;counter-reset: i1 1; }
 #l9> li>*:first-child:before {counter-increment: i1; content: counter(i1, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l9> li:first-child>*:first-child:before {counter-increment: i1 0;  }
 #l10 {padding-left: 0pt; }
 #l10> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l11 {padding-left: 0pt;counter-reset: d2 1; }
 #l11> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l11> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l12 {padding-left: 0pt; }
 #l12> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l13 {padding-left: 0pt;counter-reset: d2 1; }
 #l13> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l13> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l14 {padding-left: 0pt; }
 #l14> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l15 {padding-left: 0pt;counter-reset: d3 1; }
 #l15> li>*:first-child:before {counter-increment: d3; content: counter(d1, decimal)"."counter(d2, decimal)"."counter(d3, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l15> li:first-child>*:first-child:before {counter-increment: d3 0;  }
 #l16 {padding-left: 0pt;counter-reset: d3 1; }
 #l16> li>*:first-child:before {counter-increment: d3; content: counter(d1, decimal)"."counter(d2, decimal)"."counter(d3, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l16> li:first-child>*:first-child:before {counter-increment: d3 0;  }
 #l17 {padding-left: 0pt; }
 #l17> li>*:first-child:before {content: " "; color: black; font-family:Symbol, serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l18 {padding-left: 0pt;counter-reset: d3 1; }
 #l18> li>*:first-child:before {counter-increment: d3; content: counter(d1, decimal)"."counter(d2, decimal)"."counter(d3, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l18> li:first-child>*:first-child:before {counter-increment: d3 0;  }
 #l19 {padding-left: 0pt;counter-reset: d3 2; }
 #l19> li>*:first-child:before {counter-increment: d3; content: counter(d1, decimal)"."counter(d2, decimal)"."counter(d3, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l19> li:first-child>*:first-child:before {counter-increment: d3 0;  }
 #l20 {padding-left: 0pt;counter-reset: d3 3; }
 #l20> li>*:first-child:before {counter-increment: d3; content: counter(d1, decimal)"."counter(d2, decimal)"."counter(d3, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l20> li:first-child>*:first-child:before {counter-increment: d3 0;  }
 table, tbody {vertical-align: top; overflow: visible; }
</style></head><body><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><span><img width="127" height="62" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_001.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="37" height="37" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_002.png"/></span></p><h1 style="padding-top: 11pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">QSG175: Silicon Labs Direction Finding Solution Quick-Start Guide</h1><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="728" height="1" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_003.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="206" height="1" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_004.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-top: 4pt;padding-bottom: 1pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">KEY POINTS</p><p style="padding-left: 11pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="206" height="1" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_005.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l1"><li><p class="s2" style="padding-left: 20pt;text-indent: -7pt;text-align: left;">Stack support for Direction Finding</p></li><li><p class="s2" style="padding-top: 3pt;padding-left: 20pt;text-indent: -7pt;text-align: left;">RTL library</p></li><li><p class="s2" style="padding-top: 3pt;padding-left: 20pt;text-indent: -7pt;text-align: left;">Architecture</p></li><li><p class="s2" style="padding-top: 3pt;padding-left: 20pt;text-indent: -7pt;text-align: left;">Demos and Examples</p></li></ul><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-top: 4pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">Bluetooth version 5.1 introduced support for Direction Finding to provide a standard protocol for radio-based Real Time Locating Systems (RTLS). Silicon Labs not only supports this feature in its Bluetooth stack, but it also provides a reference implementation of a Real Time Locating System running over Bluetooth. This guide walks through the offered solution to help anyone get started with Direction Finding.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 162pt;text-indent: 0pt;text-align: left;"><span><img width="345" height="288" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_006.jpg"/></span></p><p class="s4" style="padding-bottom: 2pt;text-indent: 0pt;text-align: right;">Introduction</p><p style="padding-left: 21pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="724" height="1" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_007.png"/></span></p><ol id="l2"><li><h4 style="padding-top: 7pt;padding-left: 40pt;text-indent: -18pt;text-align: left;"><a name="bookmark0">Introduction</a></h4><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Bluetooth 5.1 introduced support for Direction Finding by adding the option to send and receive Constant Tone Extensions (CTEs) after Bluetooth packets. This makes it possible to do phase measurements on antenna arrays and ultimately to determine the direction of an incoming signal. To learn more about the theory of Direction Finding, that is how to determine the direction of incoming signals, see <i>UG103.18: Bluetooth® Direction Finding Fundamentals</i>. Readers of this document should be familiar with the basics and terms of Direc- tion Finding.</p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Beginning with Bluetooth SDK v3.0, Silicon Labs’ Bluetooth stack supports CTE transmitting and receiving features and can take phase measurements on the incoming signal as specified by the Bluetooth standard. Note, however, that the determination of the angle of incidence from the phase measurements is outside of the scope of the standard and must be implemented in the application. To reduce the Time to Market for its customers, Silicon Labs also offers a reference implementation of a Bluetooth-based Real Time Locating System (RTLS), which provides both an out-of-box experience to evaluate the solution and a flexible framework that makes it possible for every- one to create their own RTLS. To get started with the reference implementation, refer to <i>AN1296: Application Development with Silicon Labs’ RTL Library</i><a href="https://docs.silabs.com/" class="s6" target="_blank">. To find the API Reference Manual for the RTL library, visit </a><a href="https://docs.silabs.com/" class="a" target="_blank">https://docs.silabs.com/</a>. The link for the RTL library is under the Bluetooth section.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">It is of course also possible for anyone to use their own direction-finding algorithm on top of the Bluetooth stack. This requires deep knowledge in Direction Finding but enables even more flexibility. If you choose this approach, see <i>AN1297: Custom Direction-Finding Solutions using Silicon Labs’ Bluetooth Stack</i>.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;"><a href="https://www.silabs.com/documents/public/quick-start-guides/qsg169-bluetooth-sdk-v3x-quick-start-guide.pdf" class="s6" target="_blank">The Silicon Labs Direction Finding solution is part of the Bluetooth SDK. If you are not yet familiar with the Silicon Labs Bluetooth SDK, start with the following document: </a><a href="https://www.silabs.com/documents/public/quick-start-guides/qsg169-bluetooth-sdk-v3x-quick-start-guide.pdf" class="a" target="_blank">QSG169: Bluetooth® SDK v3.x Quick-Start Guide</a><a href="https://www.silabs.com/documents/public/quick-start-guides/qsg169-bluetooth-sdk-v3x-quick-start-guide.pdf" class="s6" target="_blank">.</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Finally, either you use Silicon Labs’ Direction Finding board or your own design. <i>AN1195: Antenna Array Design Guidelines for Direction Finding </i>provides you with useful information regarding antenna design. It also provides accuracy measurement results of the RTL library used with Silicon Labs’ Direction Finding board.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 48pt;text-indent: 0pt;text-align: left;"><span><img width="641" height="462" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_008.jpg"/></span></p></li><li><h4 style="padding-top: 7pt;padding-left: 40pt;text-indent: -18pt;text-align: left;"><a name="bookmark1">Demos and Examples</a></h4><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: justify;">Silicon Labs provides both hardware and software solutions to make the evaluation of the Direction Finding solution quick and easy. Using a Direction Finding radio board along with a Wireless Starter Kit (WSTK) as a locator, and a Thunderboard BG22 as a tag, you can easily set up our demo environment, which shows you the capabilities of Bluetooth-based Direction Finding.</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;"><a href="https://docs.silabs.com/simplicity-studio-5-users-guide/latest/" class="s6" target="_blank">To get started with Bluetooth demo software, you should have downloaded Simplicity Studio 5 (SSv5) and the Bluetooth SDK v3.x as described in the </a><a href="https://docs.silabs.com/simplicity-studio-5-users-guide/latest/" class="a" target="_blank">Simplicity Studio 5 User&#39;s Guide</a>, available online and through the SSv5 help menu. The Bluetooth SDK comes with some prebuilt demos that can be flashed to your EFR32 device and tested with the appropriate tool as described in this section. If you are new to Silicon Labs’ Direction Finding solution, it is worth starting with setting up this demo.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l3"><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark2">Demo</a></p><p style="padding-top: 6pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">The demo comprises three demo applications:</p><ul id="l4"><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: justify;">The <b>Bluetooth – SoC AoA Asset Tag </b>demo app is a prebuilt version of the sample app with the same name, and it is to be run on the tag that you want to follow.</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: justify;">The <b>Bluetooth – NCP AoA Locator </b>demo app is a prebuilt version of the sample app with the same name, and it is to be run on the antenna array board (Direction Finding board).</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: justify;">The <b>AoA Analyzer </b>tool is a Java based application, built into Simplicity Studio 5, that showcases the angle estimation skills of the RTL library in a graphical user interface. It is intended for demo and evaluation purposes and follows a simple architecture as shown in the following figure:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 39pt;text-indent: 0pt;text-align: left;"><span><img width="680" height="348" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_009.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">Running the demo requires the following devices:</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">An EFR32xG22 part, preferable on a Thunderboard BG22</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">A BRD4185A antenna array board with a WSTK</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">A PC running Simplicity Studio 5 with Gecko SDK Suite v3.2 or later</p><ol id="l5"><li><p class="s7" style="padding-top: 7pt;padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark3">Set up the Antenna Array Board</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">To set up the demo, first install software on the antenna array board.</p><ol id="l6"><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Start Simplicity Studio 5.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Attach the antenna array board to the PC.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Select the antenna array board (Direction Finding board) in Simplicity Studio Debug Adapters view, and make sure that Gecko SDK Suite v3.2 (or later) is selected as Preferred SDK.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><span><img width="478" height="257" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_010.jpg"/></span></p></li><li><p style="padding-top: 4pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Select the Example Projects &amp; Demos tab, filter for Bluetooth technology type and find the <b>Bluetooth – NCP AOA Locator </b>demo.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 115pt;text-indent: 0pt;text-align: left;"><span><img width="469" height="254" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_011.jpg"/></span></p></li><li><p style="padding-top: 7pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Click RUN to download and run the demo on your board. (Note: the demo also includes a bootloader. If you build the AoA locator application from source, a bootloader must also be flashed to the device.)</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark4">Set Up the Tag</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">Next, install software on the board with an EFR32xG22 part (the tag).</p><ol id="l7"><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Attach a Thunderboard BG22 or any other radio board with EFR32xG22 part.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Select the board in the Debug Adapters view, and make sure that Gecko SDK Suite v3.2 (or later) is selected as Preferred SDK.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: justify;">Select the Example Projects &amp; Demos tab, filter for Bluetooth technology type and find the <b>Bluetooth – SoC AoA Asset Tag </b>demo. (Note: The demo is only available for Thunderboard BG22. For other boards the example project with the same name must be built by the developer.)</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: justify;">If this is a new Thunderboard, push its reset button. On some boards the factory default firmware puts the device into EM4 sleep mode after 30 seconds, and then the device must be restarted to be accessible by the programmer.</p></li><li><p style="padding-top: 7pt;padding-left: 41pt;text-indent: -18pt;text-align: left;">Click RUN to download and run the demo on your board. (Note: the demo also includes a bootloader. If you build the AoA Asset Tag application from source, a bootloader must also be flashed to the device.)</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark5">Start the AoA Analyzer Tool</a></p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Finally, start the AoA Analyzer tool in Simplicity Studio 5.</p><ol id="l8"><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Right-click the antenna array board (Direction Finding board) on the Debug Adapters view in the Launcher perspective of Simplicity Studio 5.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Select AoA Analyzer in the context menu. The tool is also available through the Tools selection in the Simplicity Studio toolbar.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 179pt;text-indent: 0pt;text-align: left;"><span><img width="303" height="293" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_012.jpg"/></span></p></li><li><p style="padding-top: 5pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">The analyzer opens, connects to the antenna array board, finds the asset tag near you, and displays its direction relative to the antenna array board.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Move around the scene with your mouse to get a better view on the board, and finally move around your tag and see the right arrow following your movement:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;"><span><img width="719" height="420" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_013.jpg"/></span></p></li><li><p style="padding-top: 6pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Expand the Assets window in the lower right to see the logs by clicking the icon next to <b>Assets</b>..</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Open the Settings window by clicking on the gear icon. In general you would modify these settings after you become more familiar with the Direction Finding solution.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">The application supports multiple tags, so if the <b>Bluetooth – SoC AoA Asset Tag </b>application is flashed to multiple devices, the AoA Analyzer will display each direction with multiple arrows.</p></li></ol><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">If the AoA Analyzer gets stuck right after starting, try resetting the board. If that does not solve the problem:</p><ol id="l9"><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Open Simplicity Studio and, in the Debug Adapters view, right-click the antenna array board (Direction Finding board).</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Select Connect.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Right-click the device again and select Launch Console.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Select the admin tab.</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Check the serial vcom settings with the command</p><p class="s8" style="padding-top: 8pt;padding-left: 37pt;text-indent: 0pt;text-align: left;">serial vcom</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -18pt;text-align: left;">Change the serial vcom settings to use CTS handshake mode</p><p class="s8" style="padding-top: 8pt;padding-left: 37pt;text-indent: 0pt;text-align: left;">serial vcom config handshake CTS</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -18pt;text-align: left;">Now re-try running AoA Analyzer. If it still does not work, upgrade the WSTK to the latest firmware version through the update functionality on the Launcher perspective’s Overview tab.</p></li></ol><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li></ul></li><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark6">Application Examples</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">As part of its reference RTLS implementations, Silicon Labs provides multiple sample apps that demonstrate the usage of the CTE Transmitter and CTE Receiver features and of the RTL library.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">While the Demo is focusing on Angle of Arrival calculation only, the sample apps demonstrate both Angle of Arrival calculation and position estimation, using multiple locators.</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark23" class="s6">The sample apps follow the software architecture shows in section </a><a href="#bookmark23" class="s9">4.1 Overview</a><a href="#bookmark23" class="s6">:</a></p><ul id="l10"><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">The <b>Bluetooth – SoC AoA Asset Tag </b>sample app running on the <i>tag </i>demonstrates the CTE Transmitter feature.</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">The <b>Bluetooth – NCP AoA Locator </b>sample app running on the antenna array board (<i>target</i>) is a modified version of NCP – Empty supporting the CTE receiver feature.</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">The <b>aoa_locator </b>host sample app running on the <i>host </i>demonstrates the CTE Receiver feature and the use of the angle estimation feature of the RTL library. It uses the same application logic as the AoA Analyzer used in the demo setup.</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">The <b>aoa_multilocator </b>host sample app running on the <i>central </i>device demonstrates the position estimation feature of the RTL library.</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">The <b>aoa_multilocator_gui </b>python script running on the <i>central </i>device visualizes the positions of the tags as calculated by the aoa_multilocator app.</p><p style="padding-top: 3pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">For detailed description of the sample apps, see <i>AN1296: Application Development with Silicon Labs’ RTL Library</i>.</p></li></ul></li></ol></li><li><h4 style="padding-top: 7pt;padding-left: 40pt;text-indent: -18pt;text-align: left;"><a name="bookmark7">Bluetooth Stack and SDK Support</a></h4><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l11"><li><p class="s7" style="padding-top: 10pt;padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark8">CTE Transmitter and Receiver</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">To support Direction Finding, Bluetooth 5.1 introduced the concept of Constant Tone Extension (CTE). CTE, as its name suggests, extends the Bluetooth packets with a constant tone, that is with a continuous phase, constant amplitude and constant frequency signal, sent immediately after the CRC of the Bluetooth packet. The length of this extension varies between 16 μs – 160 μs. This signal can be used on the receiver side to measure the phase of the incoming signal on multiple antennas.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 99pt;text-indent: 0pt;text-align: left;"><span><img width="513" height="43" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_014.gif"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s7" style="padding-left: 143pt;text-indent: 0pt;text-align: center;">Figure 2-1. Bluetooth Package with CTE</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: justify;"><a href="https://www.bluetooth.com/wp-content/uploads/Files/developer/1903_RDF_Technical_Overview_FINAL.pdf" class="s6" target="_blank">To learn more about CTE, see the Technical Overview of Bluetooth Direction Finding published by the Bluetooth SIG: </a><span style=" color: #00F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">https://www.blue-</span><a href="https://www.bluetooth.com/wp-content/uploads/Files/developer/1903_RDF_Technical_Overview_FINAL.pdf" style=" color: #00F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;" target="_blank"> </a><span style=" color: #00F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: underline; font-size: 9pt;">tooth.com/wp-content/uploads/Files/developer/1903_RDF_Technical_Overview_FINAL.pdf</span> and <i>Bluetooth Core Specification v5.1 </i>or later.</p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">CTEs can be sent:</p><ul id="l12"><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">Over Bluetooth connections using the Link Layer Constant Tone Extension Request procedure (<b>connection-oriented mode</b>).</p></li><li><p style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">In periodic advertisements, if the CTEInfo field is present (<b>connectionless mode</b>).</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Additionally, Silicon Labs provide a proprietary solution to send CTEs in extended advertisements (<b>Silicon Labs enhanced mode</b>), which makes Real Time Locating Systems more scalable. This solution is highly recommended in a use case with hundreds of tags, as it is stateless, in contrast to connections and periodic advertisement synchronizations which need to store sync information for each tag and do not scale well.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">To be able to send or receive CTEs, the <b>CTE Transmitter </b>and <b>CTE Receiver </b>software components must be installed in your Bluetooth project, respectively.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 162pt;text-indent: 0pt;text-align: left;"><span><img width="343" height="377" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_015.jpg"/></span></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;line-height: 181%;text-align: left;"><a href="https://docs.silabs.com/bluetooth/3.1/group-sl-bt-cte-transmitter" class="s6" target="_blank">These components initialize the cte_transmitter and cte_receiver BGAPI classes, and make it possible to use the associated APIs: </a><a href="https://docs.silabs.com/bluetooth/3.1/group-sl-bt-cte-transmitter" class="a" target="_blank">https://docs.silabs.com/bluetooth/3.1/group-sl-bt-cte-transmitter</a><a href="https://docs.silabs.com/bluetooth/3.1/group-sl-bt-cte-transmitter" class="s6" target="_blank">,</a></p><p style="padding-left: 23pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><a href="https://docs.silabs.com/bluetooth/3.1/group-sl-bt-cte-receiver" class="a" target="_blank">https://docs.silabs.com/bluetooth/3.1/group-sl-bt-cte-receiver</a><a href="https://docs.silabs.com/bluetooth/3.1/group-sl-bt-cte-receiver" class="s6" target="_blank">.</a></p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;line-height: 107%;text-align: justify;">Typically a device is in CTE transmitter or in CTE receiver mode, but not both. Install the corresponding software component on each device.</p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">To enable CTE responses on a connection, use the API <span class="s8">sl_bt_cte_transmitter_enable_connection_cte() </span>on the CTE transmitter side. To send a CTE request from the receiver to the transmitter, use the API <span class="s8">sl_bt_cte_receiver_enable_con- nection_cte() </span>on the receiver side. If CTE responses are enabled on the transmitter side, the Bluetooth stack will automatically respond to each CTE request with a CTE response.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">To transmit CTEs in periodic advertisements, first start a periodic advertiser on the transmitter side (install the Periodic Advertising soft- ware component and use the corresponding Bluetooth APIs), and then use the <span class="s8">sl_bt_cte_transmitter_enable_connec- tionless_cte() </span>API to add CTE to the existing advertiser. To start listening to CTEs attached to periodic advertisements, first establish a periodic synchronization on the receiver side (install the Periodic Advertising Synchronization software component and use the corresponding APIs), and then use the <span class="s8">sl_bt_cte_receiver_enable_connectionless_cte() </span>API to enable CTE re- ception on the established synchronization.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">To transmit CTEs in Silicon Labs proprietary extended advertisements, first start a (regular) extended advertisement on the transmitter side, and then use the API <span class="s8">sl_bt_cte_transmitter_enable_silabs_cte() </span>to add CTE to the advertiser. To start listening to CTEs attached to Silicon Labs proprietary extended advertisements, first start (regular) scanning on the receiver side and then use the API <span class="s8">sl_bt_cte_receiver_enable_silabs_cte()</span>.</p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Every time a CTE is received on the receiver side, the signal is automatically sampled by the Bluetooth stack and an IQ report event is generated by the Bluetooth stack. If you choose to use the reference RTLS implementation of Silicon Labs, you do not have to care about these events. The IQ samples are forwarded to the RTL library, which then calculates the Angle of Arrival for you. If you choose to process the IQ samples with your application, find more details about IQ samples in <i>AN1297: Custom Direction-Finding Solutions using Silicon Labs’ Bluetooth Stack.</i></p></li></ul></li><li><p class="s7" style="padding-top: 7pt;padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark9">GATT Services</a></p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">CTEs have parameters such as length, slot duration, and how often they should be sent. To make their configuration easy, the Bluetooth SDK adds support for CTE configuration via the GATT database. This is especially useful in AoA mode on the asset tags (CTE transmit- ters).</p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">There are three CTE configuration services corresponding to the three CTE transmit mode (connection-oriented, connectionless, Silicon Labs enhanced mode). To add these services to your project, install the corresponding software component:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 158pt;text-indent: 0pt;text-align: left;"><span><img width="361" height="338" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_016.jpg"/></span></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">The software components will not only add the service to the GATT database, but they will also take care of enabling, disabling and configuring CTEs when the characteristics of the CTE service are written from a remote device. Note that the Connection oriented service must always be installed when using any of the three software components. Connectionless and Silicon Labs enhanced services cannot be installed at the same time.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark10">Antenna Switching</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Determining the direction of the Bluetooth signal is not possible without one device having an antenna array. As described in <i>UG103.18: Bluetooth® Direction Finding Fundamentals</i>, in Angle of Arrival (AoA) mode the receiver must have an antenna array, while in Angle of Departure (AoD) mode the transmitter must have an antenna array. In AoA mode the antennas must be switched during CTE reception, while in AoD mode the antennas must be switched during AoA transmission. The Bluetooth stack supports both AoA and AoD mode, and it controls antenna switches automatically during CTE transmission or reception. If you use Silicon Labs’ antenna array boards, you do not have to care about switching pin configuration and antenna switching patterns, since they are implemented in the sample apps. If you use a custom antenna array, details about the configuration are in <i>AN1297: Custom Direction-Finding Solutions using Silicon Labs’ Bluetooth Stack.</i></p></li></ol></li><li><h4 style="padding-top: 7pt;padding-left: 40pt;text-indent: -18pt;text-align: left;"><a name="bookmark11">Real-Time Location (RTL) Library</a></h4><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l13"><li><p class="s7" style="padding-top: 10pt;padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark12">Overview</a><a name="bookmark23">&zwnj;</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Estimating the Angle of Arrival (AoA) or Angle of Departure (AoD) from IQ samples is not trivial, especially in a real environment full of reflections. To ease the burden for developers and to speed up time-to-market, Silicon Labs provides a Real Time Locating library (RTL lib), which processes the IQ samples received from the Bluetooth stack, implements multipath detection and azimuth and elevation cal- culation, and exposes the data to the application via an open API.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 80pt;text-indent: 0pt;text-align: left;"><span><img width="560" height="138" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_017.png"/></span></p><p class="s7" style="padding-top: 7pt;padding-left: 143pt;text-indent: 0pt;text-align: center;">Figure 3-1: Silicon Labs RTL Library Providing Azimuth and Elevation</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: justify;">Furthermore, the library is also able to estimate the location of a tracked asset in a multi-locator scenario using triangulation, where multiple locators receive CTEs from the same asset tag, provided that the library knows the position of each locator. In this case the positions of the locators and the estimated angles (AoA) serve as the input, and the estimated location is the output.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 122pt;text-indent: 0pt;text-align: left;"><span><img width="453" height="182" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_018.png"/></span></p><p class="s7" style="padding-top: 5pt;padding-left: 143pt;text-indent: 0pt;text-align: center;">Figure 3-2: Silicon Labs RTL Library Providing X, Y and Z</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">Once the positions are estimated it is up to the user’s application how to process the data. The general architecture of an RTLS using Silicon Labs RTL library looks like this:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 54pt;text-indent: 0pt;text-align: left;"><span><img width="641" height="462" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_019.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">All AoA related sample apps in the Bluetooth SDK are created so that they support this model. To learn more about the sample apps, see <i>AN1296: Application Development with Silicon Labs’ RTL Library</i>.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Note that on the Locator side the devices work in a Network Co-Processor (NCP) mode, that is, the stack runs on the EFR32 chip, but the application runs on a host computer. Currently, due to the limited computational capacity of the EFR32 chips, only NCP mode is supported, that is the RTL library cannot be used on the chip. To learn more about NCP mode, see <i>AN1259: Using the v3.x Silicon Labs Bluetooth® Stack in Network Co-Processor Mode</i>.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">The locators can connect to the central PC in many ways. Silicon Labs’ reference implementation uses MQTT to collect angle data from locators, since it gives the flexibility to run the host sample apps on a distributed network as well as on a single PC using localhost, but other implementations can be used as well.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">The RTL library provides the following features:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:62.13pt" cellspacing="0"><tr style="height:15pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#808080"><p class="s11" style="padding-top: 2pt;padding-left: 58pt;padding-right: 57pt;text-indent: 0pt;text-align: center;">Feature</p></td><td style="width:311pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#808080"><p class="s11" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Value and Comments</p></td></tr><tr style="height:15pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Direction Finding Method</p></td><td style="width:311pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">AoA</p></td></tr><tr style="height:25pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"># of tags supported</p></td><td style="width:311pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 1pt;padding-left: 5pt;padding-right: 23pt;text-indent: 0pt;text-align: left;">infinite (lib needs to be initialized for each, and physical channel puts a limitation on this)</p></td></tr><tr style="height:15pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;"># of locators supported</p></td><td style="width:311pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">infinite (lib needs to be initialized for each)</p></td></tr><tr style="height:25pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 7pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Antenna arrays supported</p></td><td style="width:311pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 1pt;padding-left: 5pt;padding-right: 25pt;text-indent: 0pt;text-align: left;">4x4 URA, 3x3 URA, 1x4 ULA antenna arrays on Silicon Labs Antenna Array board, CoreHW PCB4 and PCB8 Antenna Array boards</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:62.13pt" cellspacing="0"><tr style="height:15pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#808080"><p class="s11" style="padding-top: 2pt;padding-left: 58pt;padding-right: 57pt;text-indent: 0pt;text-align: center;">Feature</p></td><td style="width:311pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#808080"><p class="s11" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Value and Comments</p></td></tr><tr style="height:40pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Modes of operation</p></td><td style="width:311pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Single shot / Real time,</p><p class="s12" style="padding-left: 5pt;padding-right: 153pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Fast response / Basic / High accuracy Azimuth &amp; elevation / Azimuth only</p></td></tr><tr style="height:15pt"><td style="width:151pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Supported platforms</p></td><td style="width:311pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s12" style="padding-top: 2pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Windows x64, Ubuntu x64, Raspbian (Cortex A), Darwin x64</p></td></tr></table><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">The RTL library is provided as a single static library for each supported platform. The library can be found in the Gecko SDK suite under:</p><p class="s5" style="padding-left: 22pt;text-indent: 0pt;text-align: left;">C:\SiliconLabs\SimplicityStudio\v5\developer\sdks\gecko_sdk_suite\v3.1\util\silicon_labs\aox</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">The library has three API classes:</p><ul id="l14"><li><p class="s7" style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">Angle of Arrival / Departure <span class="p">(sl_rtl_aox_): API used for AoA/AoD estimation from IQ samples. (Currently only AoA is supported.)</span></p></li><li><p class="s7" style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">Location Finding <span class="p">(sl_rtl_loc_): API used for location estimation (x, y, z coordinates) from AoA/AoD.</span></p></li><li><p class="s7" style="padding-top: 3pt;padding-left: 37pt;text-indent: -14pt;text-align: left;">Utility Functionality <span class="p">(sl_rtl_util_): API grouping utility functions that may be useful during AoA/AoD/location estimation</span></p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Inside the Angle of Arrival / Departure and Utility Functionality classes an <b>IQ Sample Quality Analysis </b>API is also available to provide analytical measurements of different kind of errors in the system.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ul></li><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark13">Angle of Arrival / Departure</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">There are two Bluetooth based direction-finding methods: Angle of Arrival (AoA) estimation and Angle of Departure (AoD) estimation. Currently the RTL library supports AoA mode only. In this mode, the transmitter transmits a constant tone on a single antenna, and the receiver receives this signal on multiple antennas. Based on their spatial situation, the receiver antennas will receive the same signal with different phase offsets, from which the direction of the incoming signal can be estimated.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 100pt;text-indent: 0pt;text-align: left;"><span><img width="515" height="237" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_020.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 22pt;text-indent: 0pt;line-height: 106%;text-align: justify;">While it is easy to estimate the Angle of Arrival in an environment free of noise and reflections, it can get quite challenging in a noisy real- world environment with a lot of reflections. To mitigate the effects of reflections, the RTL library uses different methods, such as spatial and temporal filtering, averaging over multiple frequencies, and so on.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l15"><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark14">Antenna Configuration</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">The estimator algorithm must know the exact position of each antenna in the array, and the phase of the incoming signal for each antenna. Currently only Silicon Labs antenna arrays are supported by the RTL library, for which the antenna positions are predefined in the library. Antenna array configuration is not yet available, but different subsets of the 4x4 antenna array can be selected:</p><p class="s7" style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">4x4 URA (Uniform Rectangular Array)</p><p style="padding-top: 8pt;padding-left: 37pt;text-indent: 0pt;text-align: left;">This antenna array provides the most accuracy as well as 360-degree and 3D (azimuth and elevation) tracking. All the testing and performance characterization done by Silicon Labs uses the 4x4 antenna array.</p><p class="s7" style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">3x3 URA (Uniform Rectangular Array)</p><p style="padding-top: 8pt;padding-left: 37pt;text-indent: 0pt;line-height: 107%;text-align: left;">The 4x4 antenna array can also be driven in a 3x3 configuration, but at the sacrifice of both accuracy and multipath performance. The 3x3 array still provides a 360-degree field of view and both azimuth and elevation data.</p><p class="s7" style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">1x4 ULA (Uniform Linear Array)</p><p style="padding-top: 8pt;padding-left: 37pt;text-indent: 0pt;text-align: justify;">For most applications this is not a feasible antenna configuration as a 1x4 ULA has some significant limitations. An ULA array only has a 180-degree field of view and only provides azimuth and not elevation.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 162pt;text-indent: 0pt;text-align: left;"><span><img width="343" height="125" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_021.gif"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">The phase offsets sampled on the antenna arrays must also be provided to the library in a fixed order. For details on the usage of the library see the <i>aoa_locator </i>host sample applications.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark15">Angle Estimation Modes</a></p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">The library provides different modes for different use cases:</p><p class="s7" style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">One Shot / Real Time modes</p><p style="padding-top: 8pt;padding-left: 37pt;text-indent: 0pt;text-align: justify;">In “one shot” mode the angles are always calculated from the latest measurements without any a priori knowledge or assumptions about the direction of the transmitter. On the other hand, in the “real time” mode the library keeps account of the latest angle estimation and tries to find the transmitter in the vicinity of the last direction.</p><p class="s7" style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Fast Response / Basic / High Accuracy modes:</p><p style="padding-top: 8pt;padding-left: 37pt;text-indent: 0pt;text-align: justify;">In “fast response” mode the estimator uses fewer measurements to provide one estimation. This results in a fast response but can result in a poor accuracy. On the contrary, “high accuracy” mode uses more measurements, which results in higher latency, but much better accuracy. Basic mode is a trade-off between fast response and high accuracy. For details see the <i>RTL API Reference</i>.</p><p class="s7" style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">Azimuth &amp; Elevation / Azimuth Only modes:</p><p style="padding-top: 8pt;padding-left: 37pt;text-indent: 0pt;text-align: justify;">By default the RTL library calculates both azimuth and elevation angles. In some use cases, however, it is enough to calculate the azimuth angle. “Azimuth only” mode results in faster calculation.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">These modes are used together to give one single AoA mode, that can be set when initializing the library. For details see the <i>RTL API Reference</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark16">Location Finding</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">If there are multiple fixed-position locators that can calculate the direction of the transmitter (asset tag), the position of the asset tag can be calculated from the angles using triangulation. Beside Angle of Arrival estimation the RTL library also provides location finding</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">functionality. Once the library learns the position of and gathers the angles from each locator it can provide a position estimation for asset tags. Just as for AoA estimation, challenges introduced by the reflective and noisy environment are addressed.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 151pt;text-indent: 0pt;text-align: left;"><span><img width="381" height="255" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_022.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l16"><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark17">Locator Configuration</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">In order to calculate the position of the asset tags (transmitters), the RTL library must learn both the position and the orientation of each locator relative to a local coordinate system. The choice of the local coordinate system is arbitrary, the only constraint being that it must be right-handed Cartesian (so that if x is pointing right, y is pointing up, as on the following image), and the unit of distance must be meter. The position of each locator board must be understood as the position of the center of the antenna array – relative to the origin.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 113pt;text-indent: 0pt;text-align: left;"><span><img width="484" height="343" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_023.jpg"/></span></p><p style="padding-top: 5pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">The position and orientation of each locator can be provided to the RTL library using the RTL API, but the <i>aoa_multilocator </i>sample app also makes it possible to describe the configuration of each locator in a single config file using JSON format. For more details see <i>AN1296: Application Development with Silicon Labs’ RTL Library.</i></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark18">Location Finding Modes</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">The RTL library supports two location-finding modes: two-dimensional and three-dimensional. In three-dimensional mode x, y and z coordinates of the tag are calculated from the azimuth and elevation angles. In two-dimensional mode, the z coordinate of the tag is fixed</p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">(this fixed value must be provided to the library using the RTL API <span class="s8">sl_rtl_loc_set_target_parameter</span>) and x and y coordi- nates are calculated.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark19">IQ Sample Quality Analysis</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">Errors from multiple sources can affect the quality of the received IQ samples. In a real-life environment, some phenomena are considered as normal and not errors, but can also corrupt the perceived IQ data. The most notable example of this is the multipath propagation, which twists the perceived magnitude and phase of the IQ sample data. Its extent depends on the particular antenna location in the array as well as the position and the angle of the followed tag related to the locator antenna array.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">The possible sources for the perceived noise may include the following:</p><ul id="l17"><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Radio receiver analog noise</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Quantization noise from the sampling</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Leaking signals from the surrounding channels folding into the band of interest</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Sampling jitter that translates into noise</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Other radio protocols operating on the same band</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Cosmic background noise</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">And so on ….</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">In other words, there are a plenty of sources for signal noise even in relatively good conditions.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">As well as the calculation of Angle of Arrival and position estimations, the RTL library also provides functionality called IQ sample quality analysis to help the developer find the root cause of angle estimation issues by analyzing statistical properties of the IQ samples.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l18"><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark20">Description of Operation</a></p><p style="padding-top: 7pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">The IQ sample quality analysis tool may be used to further investigate what could be the source of observed problems in the AoA/AoD angle values. If the calculated angles seem to be good and the position values calculated from these are within the expected range, investigating the quality analysis figures may not be of use.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">The IQ sample quality analysis measures a few statistical key figures from the samples and presents them per antenna element level. These include:</p></li></ol></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Antenna’s signal level (in dB), average over snapshots in the same radio packet</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Antenna’s signal to noise ratio (SNR), noise measured as a level variation between antenna’s samples in the packet</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Phase value: antenna’s unrotated average phase value, in radians (relative to the delay between antenna elements in the array)</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Phase jitter: antenna’s unrotated phase variation, in radians</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: left;">A few common, or not antenna related, values are included for a packet:</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">The radio channel the packet was sent on</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Apparent supplemental tone frequency, in Hz</p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Reference period signal to noise and distortion ratio (SNDR)</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">If enabled, the IQ sample quality analysis code detects some predefined conditions and raises a warning flag for each in case the limits were exceeded. These limits are defined inside the RTL library and are subject to change without further notice. The limits are chosen such that warning flags should not be raised in normal conditions but only occasionally. However, since every environment is different the actual number of warnings may vary from system to system. These flags are shown to the user as bits in a bitmask output of the overall status query function. Further information can be then queried using the detail query functions. The API allows querying details for the latest packet received, or for the latest packet using a specified radio channel.</p><p style="padding-top: 8pt;padding-left: 22pt;text-indent: 0pt;text-align: justify;">The following figure shows an example phase signal of a 1 x 4 antenna array. The signal is otherwise ideal, but some exaggerated error is seen in the detected phase (=delay) values for the second antenna in the array during the snapshots 2 and 3. The amplitude graph also resembles a step function, but unlike the phase signal, the amplitude value does not change the same way along the angle the signal</p><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">is arriving on. In real life the change from an antenna to next does not take place immediately but there is a transfer period during which the signal settles. This is affected by the radio system and filtering.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 105pt;text-indent: 0pt;text-align: left;"><span><img width="494" height="159" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_024.gif"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l19"><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark21">Some Interpretation Examples</a></p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Here are some practical examples of what can be learned from the quality figures in different situations:</p></li></ol></li><li><p style="padding-top: 4pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">The figures seem mostly good, but some channels have a high amount of noise.</p><p class="s13" style="padding-top: 1pt;padding-left: 46pt;text-indent: 0pt;text-align: left;"><span class="s14"> </span><span class="s5">These radio channels may be occupied by some other system.</span></p></li><li><p style="padding-top: 4pt;padding-left: 40pt;text-indent: -18pt;line-height: 112%;text-align: left;">Some antennas show much lower amplitude levels. The amount of reduction, and also the antennas on which this is seen, changes along the position of the followed tag.</p><p class="s13" style="padding-left: 40pt;text-indent: 5pt;line-height: 112%;text-align: left;"><span class="s14"> </span><span class="s5">Radio signal reflects from the surfaces of the surrounding space causing interference with the received signal (called multipath propagation).</span></p></li><li><p style="padding-top: 3pt;padding-left: 40pt;text-indent: -18pt;line-height: 113%;text-align: left;">Some antenna values show a lot of noise or the phase value is not changing relative to the tag movement as it does for other antennas</p><p class="s13" style="padding-left: 46pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s14"> </span><span class="s5">The antenna board may be defective, preventing it from receiving the signal from one or more antennas.</span></p></li><li><p style="padding-top: 4pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">All the antennas’ phase values are the same</p><p class="s13" style="padding-top: 1pt;padding-left: 46pt;text-indent: 0pt;text-align: left;"><span class="s14"> </span><span class="s5">The tag is directly above the antenna board at a 90° elevation angle.</span></p><p class="s13" style="padding-top: 1pt;padding-left: 46pt;text-indent: 0pt;text-align: left;"><span class="s14"> </span><span class="s5">The antenna board may be defective and is not switching at all.</span></p></li><li><p style="padding-top: 4pt;padding-left: 40pt;text-indent: -18pt;text-align: left;">Reference period SNDR value is bad</p></li></ul><p class="s13" style="padding-top: 1pt;padding-left: 46pt;text-indent: 0pt;text-align: left;"><span class="s14"> </span><span class="s5">The whole packet may be corrupted because of some other system’s disturbance.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l20"><li><p class="s7" style="padding-left: 51pt;text-indent: -28pt;text-align: left;"><a name="bookmark22">Usage</a></p></li></ol></li></ol></li></ol><p style="padding-top: 7pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">The IQ sample quality analysis tool is available through the Angle of Arrival/Departure API class of the RTL lib. See the functions starting with <i>sl_rtl_aox_iq_sample_qa</i>_ in the API Reference. For a reference implementation of the usage of IQ sample quality analysis see the <i>aoa_locator </i>host sample app in the Bluetooth SDK.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-left: 36pt;text-indent: 0pt;text-align: left;">Simplicity Studio</h2><p class="s15" style="padding-top: 14pt;padding-left: 36pt;text-indent: 0pt;line-height: 122%;text-align: left;">One-click access to MCU and wireless tools, documentation, software, source code libraries &amp; more. Available for Windows, Mac and Linux!</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="768" height="432" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_025.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:63.94pt" cellspacing="0"><tr style="height:99pt"><td style="width:98pt" bgcolor="#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 15pt;text-indent: 0pt;text-align: left;"><span><img width="66" height="66" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_026.png"/></span></p><p style="padding-top: 10pt;padding-left: 1pt;padding-right: 19pt;text-indent: 0pt;text-align: center;"><a href="https://www.silabs.com/solutions/iot" class="s16">IoT Portfolio</a></p><p style="padding-top: 1pt;padding-left: 1pt;padding-right: 19pt;text-indent: 0pt;line-height: 8pt;text-align: center;"><a href="http://www.silabs.com/IoT" class="s17">www.silabs.com/IoT</a></p></td><td style="width:126pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 18pt;padding-right: 8pt;text-indent: 0pt;text-align: center;"><a href="https://www.silabs.com/simplicity" class="s16">SW/HW</a></p><p style="padding-top: 1pt;padding-left: 18pt;padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;"><a href="http://www.silabs.com/simplicity" class="s17">www.silabs.com/simplicity</a></p></td><td style="width:126pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 18pt;padding-right: 8pt;text-indent: 0pt;text-align: center;"><a href="https://www.silabs.com/about-us/corporate-responsibility/commitment-to-quality" class="s16">Quality</a></p><p style="padding-top: 1pt;padding-left: 18pt;padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;"><a href="http://www.silabs.com/quality" class="s17">www.silabs.com/quality</a></p></td><td style="width:126pt"><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 12pt;text-indent: 0pt;text-align: left;"><a href="https://www.silabs.com/community" class="s16" target="_blank">Support &amp; Community</a></p><p style="padding-top: 1pt;padding-left: 13pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><a href="http://www.silabs.com/community" class="s17">www.silabs.com/community</a></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="131" height="131" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_027.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="131" height="131" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_028.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="131" height="131" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_029.png"/></span></p><p class="s18" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Disclaimer</p><p class="s19" style="padding-left: 5pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">Silicon Labs intends to provide customers with the latest, accurate, and in-depth documentation of all peripherals and modules available for system and software imple- menters using or intending to use the Silicon Labs products. Characterization data, available modules and peripherals, memory sizes and memory addresses refer to each <span class="s20">specific device, and “Typical” parameters provided can and do vary in different applications. Application examples described herein are for illustrative purposes only. Silicon Labs reserves the right to make changes without further notice to the product information, specifications, and descriptions herein, and does not give warranties as to the accuracy or completeness of the included information. Without prior notification, Silicon Labs may update product firmware during the manufacturing process for security or reliability reasons. Such changes will not alter the specifications or the performance of the product. Silicon Labs shall have no liability for the consequences of use of the infor</span>- mation supplied in this document. This document does not imply or expressly grant any license to design or fabricate any integrated circuits. The products are not designed or <span class="s20">authorized to be used within any FDA Class III devices, applications for which FDA premarket approval is required or Life Support Systems without the specific written consent of Silicon Labs. A “Life Support System” is any product or system intended to support or sustain life and/or health, which, if it fails, can be reasonably expected to result in significant personal injury or death. Silicon Labs products are not designed or authorized for military applications. Silicon Labs products shall under no circumstances be used </span>in weapons of mass destruction including (but not limited to) nuclear, biological or chemical weapons, or missiles capable of delivering such weapons. Silicon Labs disclaims <span class="s20">all express and implied warranties and shall not be responsible or liable for any injuries or damages related to use of a Silicon Labs product in such unauthorized applications. </span><b>Note: This content may contain offensive terminology that is now obsolete. Silicon Labs is replacing these terms with inclusive language wherever possible. For more </b><span class="s22">information, visit </span><a href="https://www.silabs.com/about-us/inclusive-lexicon-project" class="s24" target="_blank">www.silabs.com/about-us/inclusive-lexicon-project</a></p><p class="s22" style="padding-top: 8pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Trademark Information</p><p class="s25" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 117%;text-align: justify;"><span class="s19">Silicon Laboratories Inc.</span>®<span class="s19">, Silicon Laboratories</span>®<span class="s19">, Silicon Labs</span>®<span class="s19">, SiLabs</span>® <span class="s19">and the Silicon Labs logo</span>®<span class="s19">, Bluegiga</span>®<span class="s19">, Bluegiga Logo</span>®<span class="s19">, Clockbuilder</span>®<span class="s19">, CMEMS</span>®<span class="s19">, DSPLL</span>®<span class="s19">, EFM</span>®<span class="s19">, EFM32</span>®<span class="s19">, EFR, Ember</span>®<span class="s20">, Energy Micro, Energy Micro logo and combinations thereof, “the world’s most energy friendly microcontrollers”, Ember</span>®<span class="s19">, EZLink</span>®<span class="s19">, EZRadio</span>®<span class="s19">, EZRadioPRO</span>®<span class="s19">, Gecko</span>®<span class="s19">, Gecko OS, Gecko OS Studio, ISOmodem</span>®<span class="s19">, Precision32</span>®<span class="s19">, ProSLIC</span>®<span class="s19">, Simplicity Studio</span>®<span class="s19">, SiPHY</span>®<span class="s19">, Telegesis, the Telegesis Logo</span>®<span class="s19">, USBXpress</span>® <span class="s19">, Zentri, the Zentri logo and Zentri DMS, Z-Wave</span>®<span class="s19">, and others are trademarks or registered trademarks of Silicon Labs. ARM, CORTEX, Cortex-M3 and THUMB are trademarks or registered trademarks of ARM Hold- ings. Keil is a registered trademark of ARM Limited. Wi-Fi is a registered trademark of the Wi-Fi Alliance. All other products or brand names mentioned herein are trademarks of their respective holders.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="148" height="73" alt="image" src="qsg175-direction-finding-solution-quick-start-guide/Image_030.png"/></span></p><p class="s22" style="padding-top: 5pt;padding-left: 149pt;text-indent: 0pt;text-align: left;">Silicon Laboratories Inc. 400 West Cesar Chavez Austin, TX 78701</p><p class="s22" style="padding-left: 149pt;text-indent: 0pt;line-height: 8pt;text-align: left;">USA</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 149pt;text-indent: 0pt;text-align: left;"><h3 href="http://www.silabs.com/">www.silabs.com</h3></p></body></html>
