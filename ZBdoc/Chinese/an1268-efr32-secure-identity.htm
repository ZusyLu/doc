<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>AN1268: Authenticating Silicon Labs Devices Using Device Certificates</title><meta name="author" content="Silicon Labs"/><meta name="description" content="How to authenticate an EFR32 Series 2 device with Secure Vault, using secure device certificates and signatures"/><style type="text/css"> * {margin:0; padding:0; text-indent:0; }
 h1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 24pt; }
 .s1 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 6pt; }
 .s2 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s3 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .p, p { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; margin:0pt; }
 .s4 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 11pt; }
 .s5 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s6 { color: #FFF; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s7 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s8 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 .s9 { color: #A0B82D; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .a, a { color: #049; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s10 { color: #049; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s11 { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s12 { color: #0070BF; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s13 { color: black; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s14 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 h4 { color: #FFF; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 12pt; }
 .s15 { color: black; font-family:"Franklin Gothic Book", sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 h3 { color: #FFF; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; }
 .s16 { color: #00B050; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s17 { color: #00B050; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s18 { color: #FFF; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 14pt; vertical-align: -1pt; }
 .s19 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s20 { color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 10pt; }
 .s21 { color: #049; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s23 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s24 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s25 { color: #FFF; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 5pt; }
 .s26 { color: #FFF; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 .s27 { color: #FFF; font-family:Calibri, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s28 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: bold; text-decoration: none; font-size: 8pt; }
 .s29 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s30 { color: black; font-family:"Courier New", monospace; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 h2 { color: #FFF; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 20pt; }
 .s31 { color: #FFF; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 12pt; }
 .s32 { color: #FB1725; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 10pt; }
 .s33 { color: #4D4D4F; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 .s34 { color: #4D4D4F; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 .s35 { color: #4D4D4F; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 .s36 { color: #4D4D4F; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s37 { color: #4D4D4F; font-family:Calibri, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 7pt; }
 .s38 { color: #FB1725; font-family:"Trebuchet MS", sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 7pt; }
 li {display: block; }
 #l1 {padding-left: 0pt; }
 #l1> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 8pt; }
 li {display: block; }
 #l2 {padding-left: 0pt;counter-reset: d1 1; }
 #l2> li>*:first-child:before {counter-increment: d1; content: counter(d1, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 11pt; }
 #l2> li:first-child>*:first-child:before {counter-increment: d1 0;  }
 #l3 {padding-left: 0pt; }
 #l3> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l4 {padding-left: 0pt;counter-reset: d2 1; }
 #l4> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l4> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l5 {padding-left: 0pt; }
 #l5> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l6 {padding-left: 0pt;counter-reset: d2 1; }
 #l6> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l6> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l7 {padding-left: 0pt;counter-reset: d3 1; }
 #l7> li>*:first-child:before {counter-increment: d3; content: counter(d3, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l7> li:first-child>*:first-child:before {counter-increment: d3 0;  }
 #l8 {padding-left: 0pt; }
 #l8> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l9 {padding-left: 0pt;counter-reset: d3 1; }
 #l9> li>*:first-child:before {counter-increment: d3; content: counter(d3, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l9> li:first-child>*:first-child:before {counter-increment: d3 0;  }
 #l10 {padding-left: 0pt;counter-reset: d2 1; }
 #l10> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l10> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l11 {padding-left: 0pt; }
 #l11> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l12 {padding-left: 0pt; }
 #l12> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l13 {padding-left: 0pt; }
 #l13> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l14 {padding-left: 0pt; }
 #l14> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l15 {padding-left: 0pt;counter-reset: k1 1; }
 #l15> li>*:first-child:before {counter-increment: k1; content: counter(k1, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l15> li:first-child>*:first-child:before {counter-increment: k1 0;  }
 #l16 {padding-left: 0pt;counter-reset: d2 1; }
 #l16> li>*:first-child:before {counter-increment: d2; content: counter(d1, decimal)"."counter(d2, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l16> li:first-child>*:first-child:before {counter-increment: d2 0;  }
 #l17 {padding-left: 0pt;counter-reset: l1 7; }
 #l17> li>*:first-child:before {counter-increment: l1; content: counter(l1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l17> li:first-child>*:first-child:before {counter-increment: l1 0;  }
 #l18 {padding-left: 0pt;counter-reset: l2 1; }
 #l18> li>*:first-child:before {counter-increment: l2; content: counter(l1, decimal)"."counter(l2, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l18> li:first-child>*:first-child:before {counter-increment: l2 0;  }
 #l19 {padding-left: 0pt;counter-reset: l3 1; }
 #l19> li>*:first-child:before {counter-increment: l3; content: counter(l1, decimal)"."counter(l2, decimal)"."counter(l3, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l19> li:first-child>*:first-child:before {counter-increment: l3 0;  }
 #l20 {padding-left: 0pt;counter-reset: l4 1; }
 #l20> li>*:first-child:before {counter-increment: l4; content: counter(l4, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l20> li:first-child>*:first-child:before {counter-increment: l4 0;  }
 #l21 {padding-left: 0pt;counter-reset: l4 1; }
 #l21> li>*:first-child:before {counter-increment: l4; content: counter(l4, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l21> li:first-child>*:first-child:before {counter-increment: l4 0;  }
 #l22 {padding-left: 0pt;counter-reset: m1 7; }
 #l22> li>*:first-child:before {counter-increment: m1; content: counter(m1, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l22> li:first-child>*:first-child:before {counter-increment: m1 0;  }
 #l23 {padding-left: 0pt;counter-reset: m2 2; }
 #l23> li>*:first-child:before {counter-increment: m2; content: counter(m1, decimal)"."counter(m2, decimal)" "; color: black; font-style: normal; font-weight: normal; text-decoration: none; }
 #l23> li:first-child>*:first-child:before {counter-increment: m2 0;  }
 #l24 {padding-left: 0pt;counter-reset: m3 1; }
 #l24> li>*:first-child:before {counter-increment: m3; content: counter(m1, decimal)"."counter(m2, decimal)"."counter(m3, decimal)" "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: bold; text-decoration: none; font-size: 9pt; }
 #l24> li:first-child>*:first-child:before {counter-increment: m3 0;  }
 #l25 {padding-left: 0pt;counter-reset: m4 1; }
 #l25> li>*:first-child:before {counter-increment: m4; content: counter(m4, decimal)". "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 #l25> li:first-child>*:first-child:before {counter-increment: m4 0;  }
 li {display: block; }
 #l26 {padding-left: 0pt; }
 #l26> li>*:first-child:before {content: "• "; color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt; }
 table, tbody {vertical-align: top; overflow: visible; }
</style></head><body><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;"><span><img width="126" height="62" alt="image" src="an1268-efr32-secure-identity/Image_001.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="38" height="38" alt="image" src="an1268-efr32-secure-identity/Image_002.png"/></span></p><h1 style="padding-top: 4pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">AN1268: Authenticating Silicon Labs Devices Using Device Certificates</h1><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="713" height="1" alt="image" src="an1268-efr32-secure-identity/Image_003.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="205" height="1" alt="image" src="an1268-efr32-secure-identity/Image_004.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s1" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">KEY POINTS</p><p style="padding-left: 9pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="206" height="1" alt="image" src="an1268-efr32-secure-identity/Image_005.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l1"><li><p class="s2" style="padding-top: 4pt;padding-left: 17pt;text-indent: -7pt;text-align: left;">Secure identity on Secure Vault devices</p></li><li><p class="s2" style="padding-top: 3pt;padding-left: 17pt;text-indent: -7pt;text-align: left;">Device certificate options</p></li><li><p class="s2" style="padding-top: 3pt;padding-left: 17pt;text-indent: -7pt;text-align: left;">Remote authentication process</p></li><li><p class="s2" style="padding-top: 3pt;padding-left: 17pt;text-indent: -7pt;text-align: left;">Examples for certificate chain verification and remote authentication</p></li></ul><p style="text-indent: 0pt;text-align: left;"/><p class="s3" style="padding-top: 4pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">This application note describes how to authenticate a device as a genuine Silicon Labs product at any time during its life. The digi- tal certificates for secure identity are stored in the device and the Silicon Labs Server.</p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">This secure identity feature is only available on Secure Vault devices.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l2"><li><p class="s4" style="padding-left: 39pt;text-indent: -15pt;text-align: left;"><a name="bookmark0">EFR32 Series 2 Device Security Features</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: justify;">Protecting IoT devices against security threats is central to a quality product. Silicon Labs offers several security options to help devel- opers build secure devices, secure application software, and secure paths of communication to manage those devices. Silicon Labs’ security offerings were significantly enhanced by the introduction of the EFR32 Series 2 products that included a Secure Element. The Secure Element is a tamper-resistant component used to securely store sensitive data, keys and to execute cryptographic functions and secure services.</p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">The Secure Element is the foundation of two core security functions:</p><ul id="l3"><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Secure Boot: Process where the initial boot phase is executed from an immutable memory (such as ROM) and where code is au- thenticated before being authorized to be executed.</p></li><li><p style="padding-top: 2pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Secure Debug access control: The ability to lock access to the debug ports for operational security, and to securely unlock them when access is required by an authorized entity.</p><p style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Some EFR32 Series 2 products offer additional security options through Secure Vault. Secure Vault is a dedicated security CPU that isolates cryptographic functions and data from the host processor core. Devices with Secure Vault offer the following security features:</p></li><li><p style="padding-top: 2pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Secure Key Storage: Protects cryptographic keys by “wrapping” or encrypting the keys using a root key known only to the Secure Vault.</p></li><li><p style="padding-top: 2pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Anti-Tamper protection: A configurable module to protect the device against tamper attacks.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Device authentication: Functionality that uses a secure device identity certificate along with digital signatures to verify the source or target of device communications.</p></li></ul><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">A Secure Element Manager and other tools allow users to configure and control their devices both in house during testing and manu- facturing, and after the device is in the field.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l4"><li><p class="s5" style="padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark1">User Assistance</a></p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">In support of these products Silicon Labs offers white papers, webinars, and documentation. The following table summarizes the key security documents:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:24pt" cellspacing="0"><tr style="height:19pt"><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Document</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Summary</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Applicability</p></td></tr><tr style="height:40pt"><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">AN1190: Series 2 Secure Debug</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;text-align: left;">How to lock and unlock EFR32 Series 2 debug access, including background infor- mation about the Secure Element</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">EFR32 Series 2</p></td></tr><tr style="height:40pt"><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">AN1218: Series 2 Secure Boot with RTSL</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Describes the secure boot process on EFR32 Series 2 devices using Secure Ele- ment</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">EFR32 Series 2</p></td></tr><tr style="height:30pt"><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">AN1247: Anti-Tamper Protection Configu- ration and Use</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 11pt;text-indent: 0pt;text-align: left;">How to program, provision, and configure the anti-tamper module</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">EFR32 Series 2 with Secure Vault</p></td></tr><tr style="height:40pt"><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s8" style="padding-top: 3pt;padding-left: 2pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">AN1268: Authenticating Silicon Labs De- vices using Device Certificates <span class="s7">(this document)</span></p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s8" style="padding-top: 3pt;padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">How to authenticate a device using se- cure device certificates and signatures, at any time during the life of the product</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s8" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">EFR32 Series 2 with Secure Vault</p></td></tr><tr style="height:30pt"><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">AN1271: Secure Key Storage</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">How to securely “wrap” keys so they can be stored in non-volatile storage.</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">EFR32 Series 2 with Secure Vault</p></td></tr><tr style="height:40pt"><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 9pt;text-indent: 0pt;text-align: left;">AN1222: Production Programming of Ser- ies 2 Devices</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;text-align: left;">How to program, provision, and configure security information using Secure Element during device production</p></td><td style="width:180pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">EFR32 Series 2</p></td></tr></table><p class="s9" style="padding-bottom: 3pt;padding-left: 378pt;text-indent: 0pt;text-align: left;">EFR32 Series 2 Device Security Features</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="713" height="0" alt="image" src="an1268-efr32-secure-identity/Image_006.png"/></span></p></li><li><p class="s5" style="padding-top: 7pt;padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark2">Key Reference</a></p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Public/Private keypairs along with other keys are used throughout Silicon Labs security implementations. Because terminology can sometimes be confusing, the following table lists the key names, their applicability, and the documentation where they are used.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 179pt;text-indent: 0pt;text-align: center;">Table 1.1.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:24pt" cellspacing="0"><tr style="height:19pt"><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Key Name</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">SE Manager ID</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Customer Programmed</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Purpose</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Used in</p></td></tr><tr style="height:51pt"><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 18pt;text-indent: 0pt;text-align: left;">Public Sign key (Sign Key Public)</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">SL_SE_KEY_SLOT_AP- PLICATION_SE- CURE_BOOT_KEY</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Yes</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 3pt;text-indent: 0pt;text-align: left;">Secure Boot binary au- thentication and/or OTA upgrade payload authen- tication</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 30pt;text-indent: 0pt;text-align: left;">AN1218 (primary), AN1222</p></td></tr><tr style="height:40pt"><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 11pt;text-indent: 0pt;text-align: left;">Public Command key (Command Key Public)</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">SL_SE_KEY_SLOT_AP- PLICATION_SE- CURE_DEBUG_KEY</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Yes</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">Secure Debug Unlock or Disable Tamper com- mand authentication</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 30pt;text-indent: 0pt;text-align: left;">AN1190 (primary), AN1222, AN1247</p></td></tr><tr style="height:40pt"><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 17pt;text-indent: 0pt;text-align: left;">OTA Decryption key (GBL Decryption key) aka AES-128 Key</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">SL_SE_KEY_SLOT_AP- PLICA- TION_AES_128_KEY</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Yes</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 1pt;text-indent: 0pt;text-align: left;">Decrypting GBL payloads used for firmware up- grades</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 30pt;text-indent: 0pt;text-align: left;">AN1222 (primary), UG266</p></td></tr><tr style="height:40pt"><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 11pt;text-indent: 0pt;text-align: left;">Attestation key aka Pri- vate Device Key</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 5pt;text-indent: 0pt;text-align: left;">SL_SE_KEY_SLOT_AP- PLICATION_ATTESTA- TION_KEY</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">No</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 4pt;text-indent: 0pt;text-align: left;">Device authentication for secure identity</p></td><td style="width:108pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">AN1268</p></td></tr></table><p class="s9" style="padding-bottom: 3pt;text-indent: 0pt;text-align: right;">Device Compatibility</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="713" height="0" alt="image" src="an1268-efr32-secure-identity/Image_007.png"/></span></p></li></ol></li><li><p class="s4" style="padding-top: 7pt;padding-left: 39pt;text-indent: -15pt;text-align: left;"><a name="bookmark3">Device Compatibility</a></p><p style="padding-top: 3pt;padding-left: 23pt;text-indent: 0pt;line-height: 19pt;text-align: left;">This application note supports Series 2 device families with Secure Vault, and some functionality is different depending on the device. Wireless SoC Series 2 device familieswith Secure Vault consist of:</p><ul id="l5"><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">EFR32BG21B</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">EFR32MG21B</p></li></ul></li><li><p class="s4" style="padding-top: 7pt;padding-left: 39pt;text-indent: -15pt;text-align: left;"><a name="bookmark4">Introduction</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: justify;">One of the biggest challenges for connected devices is post-deployment authentication. Silicon Labs’ factory trust provisioning service with optional secure programming provides a secure device identity certificate, analogous to a birth certificate, for each individual silicon die during integrated circuit (IC) manufacturing. This enables post-deployment security, authenticity and attestation-based health checks. The device certificate guarantees the authenticity of the device for its lifetime. When the certificate is checked, a digital signa- ture confirms that the certificate received has not been tampered with.</p><p style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: justify;">Certificates can now be used to authenticate Internet of Things (IoT) devices as well as Internet servers, now that Silicon Labs’ Secure Vault devices have both cryptographic acceleration in hardware and tamper-resistant storage to handle digital certificate operations.</p><p style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: justify;">The digital signature and certificates are major cryptographic tools to verify the device is authentic. These tools are described in the following sections.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l6"><li><p class="s5" style="padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark5">Digital Signature</a></p><p style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">The digital signature is used to protect integrity and authenticity of an electronic message.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-top: 5pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Digital Signature Example:</p><p style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: justify;">Alice wants to give data to Bob, and Bob wants to make sure that the data came from Alice and has not been tampered with. Alice has a private/public key pair, and has previously given Bob her public key.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;"><span><img width="715" height="324" alt="image" src="an1268-efr32-secure-identity/Image_008.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 181pt;text-indent: 0pt;text-align: center;"><a name="bookmark8">Figure 3.1.  Digital Signature</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l7"><li><p style="padding-left: 41pt;text-indent: -8pt;text-align: left;">Alice generates the hash (for example SHA256) of the data.</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Alice&#39;s private key is used to sign the hash to create a signature. The hash is signed instead of the data itself because the signing operation is slow. Therefore it is more efficient to sign the hash instead of the arbitrarily large data.</p></li><li><p style="padding-top: 2pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">The signature is attached to the end of the data.</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">The data and signature are given to Bob.</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Bob independently generates the hash of the data.</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">The signature is verified with the hash and Alice’s public key, which results in a true or false outcome indicating if the data is valid.</p><p class="s5" style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Note: <span class="p">This scheme requires distribution of Alice&#39;s public key.</span></p></li></ol></li><li><p class="s5" style="padding-top: 8pt;padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark6">Digital Certificates and Chain of Trust</a></p><p class="s10" style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;"><a href="#bookmark8" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">In </a>Figure 3.1 Digital Signature on page 5<span style=" color: #000;">, Bob already had access to Alice’s public key, which he trusted. However, it is not always feasible to pre-share a public key with everyone for secure identity verification and no mechanism to revoke or for revoking or inactivating the public key in case it gets stolen.</span></p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;">A digital certificate is simply a small, verifiable data file that contains identity credentials and a public key. That data is then signed either with the corresponding private key, or a different private key. The digital certificate can be used to prove the ownership of a public key.</p><ul id="l8"><li><p style="padding-top: 2pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">If it is signed using the corresponding private key, it is called a self-signed certificate.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">If it is signed by another private key, the owner of that private key is acting as a Certificate Authority (CA).</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">A Certificate Authority (CA) is a trusted third party by both the owner and party relying on the certificate.</p><p style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Concatenation of digital certificates builds a chain of trust.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">At the root of the chain is a self-signed certificate, called a root certificate or a CA certificate.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The root or CA certificate can be used to sign another certificate.</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;"><span><img width="721" height="354" alt="image" src="an1268-efr32-secure-identity/Image_009.png"/></span></p><p class="s5" style="padding-top: 7pt;padding-left: 181pt;text-indent: 0pt;text-align: center;">Figure 3.2.  Digital Certificates and Chain of Trust</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 23pt;text-indent: 0pt;text-align: justify;">Note: <span class="p">The private key is never included as part of the certificate – it must be stored separately and kept private. The security of the scheme relies on protecting the private keys.</span></p></li><li><p class="s5" style="padding-top: 8pt;padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark7">Digital Certificates Verification</a></p><p class="s10" style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;"><a href="#bookmark8" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">This section illustrates the process shown in </a>Figure 3.1 Digital Signature on page 5<span style=" color: #000;">, but using digital certificates.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-top: 5pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Digital Certificates Verification Example:</p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Alice wants to give data to Bob, signed with her private key. Alice has a digital certificate signed by a trusted third party (CA) in addition to her private key. Bob has a certificate from the trusted CA but nothing else is previously shared.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;"><span><img width="715" height="296" alt="image" src="an1268-efr32-secure-identity/Image_010.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 181pt;text-indent: 0pt;text-align: center;">Figure 3.3.  Digital Certificate Verification</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l9"><li><p style="padding-left: 41pt;text-indent: -8pt;text-align: left;">Alice uses her private key to sign the data.</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Alice gives the data, signature, and her certificate to Bob.</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Bob first verifies that the Alice&#39;s certificate is valid, to prove Alice is the owner of the certificate&#39;s public key. This is done by verify- ing that Alice&#39;s certificate contains a valid signature created by the CA.</p></li><li><p style="padding-top: 2pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Bob then verifies the signature of the data using the public key in Alice&#39;s certificate.</p><p class="s5" style="padding-top: 6pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Note: <a href="#bookmark8" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">The hash process in </a><span class="s10">Figure 3.1 Digital Signature on page 5 </span><span class="p">is skipped in this example.</span></p></li></ol></li></ol></li><li><p class="s4" style="padding-top: 7pt;padding-left: 39pt;text-indent: -15pt;text-align: left;"><a name="bookmark9">Secure Identification on Secure Vault Devices</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;">The goal of secure identification is to prove the ownership of a device&#39;s unique public key to an external service. It enables the external service to identify the device as legitimate and to authenticate device-generated data or messages.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l10"><li><p class="s5" style="padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark10">Chain of Trust</a></p><p class="s10" style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark13" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">The chain of trust on Secure Vault devices is illustrated in </a>Figure 4.1 Chain of Trust on page 8<span style=" color: #000;">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;"><span><img width="729" height="258" alt="image" src="an1268-efr32-secure-identity/Image_011.png"/></span></p><p class="s5" style="padding-top: 5pt;padding-left: 181pt;text-indent: 0pt;text-align: center;"><a name="bookmark13">Figure 4.1.  Chain of Trust</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l11"><li><p style="padding-left: 36pt;text-indent: -9pt;text-align: left;">Silicon Labs is a Certificate Authority (CA).</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The root certificate and factory certificate are stored in the Silicon Labs Server.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The factory certificate is static per factory.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The batch certificate and device certificate are stored on the device.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The batch certificate is rolled per production batch.</p></li><li><p class="s10" style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;"><a href="#bookmark14" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">The </a>device certificate <span style=" color: #000;">is a unique cryptographic identity.</span></p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">All certificates are X.509 standard format.</p><ul id="l12"><li><p style="padding-top: 3pt;padding-left: 48pt;text-indent: -9pt;text-align: left;">TLS-compliant: Standard endpoint authentication methods are used in internet communications</p></li><li><p style="padding-top: 3pt;padding-left: 48pt;text-indent: -9pt;text-align: left;">Signature algorithm: ECDSA-prime256v1 with SHA256</p></li></ul></li><li><p class="s10" style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;"><a href="#bookmark16" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">Each certificate in the chain is signed by the certificate above it (</a><a href="#bookmark16" class="a">Figure 4.3 Signing for Certificates on page </a>10<span style=" color: #000;">).</span></p></li></ul><p class="s5" style="padding-top: 6pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Note: <span class="p">A certificate can be revoked if needed, for instance if security issues arise. The certificate revocation lists are stored in the Silicon Labs Server.</span></p></li><li><p class="s5" style="padding-top: 8pt;padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark11">Device Certificate</a><a name="bookmark14">&zwnj;</a></p><p class="s10" style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;"><a href="#bookmark15" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">The device certificate example is described in </a>Figure 4.2 Device Certificate Example on page 9<span style=" color: #000;">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="680" height="573" alt="image" src="an1268-efr32-secure-identity/Image_012.png"/></span></p><p class="s11" style="padding-top: 5pt;padding-left: 51pt;text-indent: -9pt;text-align: left;"><a name="bookmark15">Certificate: Data:</a></p><p class="s11" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">Version: 3 (0x2) Serial Number:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-left: 42pt;text-indent: 0pt;text-align: left;">All data is hashed using the algorithm (SHA256) specified in the certificate</p><p class="s11" style="padding-left: 70pt;text-indent: 0pt;line-height: 12pt;text-align: left;">f2:59:94:21:76:1e:81:be:2b:6a:dd:09:1e:f2:fb:74:46:2c:20:b3</p><table style="border-collapse:collapse" cellspacing="0"><tr style="height:10pt"><td style="width:117pt;border-top-style:solid;border-top-width:2pt;border-top-color:#D81E2A;border-left-style:solid;border-left-width:2pt;border-left-color:#D81E2A;border-bottom-style:solid;border-bottom-width:2pt;border-bottom-color:#D81E2A;border-right-style:solid;border-right-width:2pt;border-right-color:#D81E2A" bgcolor="#D8D8D8"><p class="s13" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Issuer: CN = Batch 1001317,</p></td><td style="width:157pt;border-left-style:solid;border-left-width:2pt;border-left-color:#D81E2A" bgcolor="#D8D8D8"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:34pt"><td style="width:177pt;border-top-style:solid;border-top-width:2pt;border-top-color:#D81E2A;border-left-style:solid;border-left-width:2pt;border-left-color:#D81E2A;border-bottom-style:solid;border-bottom-width:2pt;border-bottom-color:#D81E2A;border-right-style:solid;border-right-width:2pt;border-right-color:#D81E2A" colspan="2" bgcolor="#D8D8D8"><p class="s13" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Validity</p><p class="s13" style="padding-left: 12pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Not Before: Nov 19 14:30:15 2019 GMT</p><p class="s13" style="padding-left: 12pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Not After : Nov 19 14:30:15 2119 GMT</p></td><td style="width:97pt;border-left-style:solid;border-left-width:2pt;border-left-color:#D81E2A;border-bottom-style:solid;border-bottom-width:2pt;border-bottom-color:#D81E2A" bgcolor="#D8D8D8"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr><tr style="height:10pt"><td style="width:152pt;border-top-style:solid;border-top-width:2pt;border-top-color:#D81E2A;border-right-style:solid;border-right-width:2pt;border-right-color:#D81E2A" colspan="2" bgcolor="#D8D8D8"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:122pt;border-top-style:solid;border-top-width:2pt;border-top-color:#D81E2A;border-left-style:solid;border-left-width:2pt;border-left-color:#D81E2A;border-bottom-style:solid;border-bottom-width:2pt;border-bottom-color:#D81E2A;border-right-style:solid;border-right-width:2pt;border-right-color:#D81E2A" bgcolor="#D8D8D8"><p class="s13" style="padding-left: 1pt;text-indent: 0pt;line-height: 8pt;text-align: left;">CN = EUI:14B457FFFE0F7777</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s11" style="padding-left: 60pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Signature Algorithm: ecdsa-with-SHA256</p><p class="s11" style="padding-left: 177pt;text-indent: 0pt;line-height: 12pt;text-align: left;">O = Silicon Labs Inc., C = US</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s11" style="padding-left: 60pt;text-indent: 0pt;text-align: left;">Subject: C = US, O = Silicon Labs Inc., Subject Public Key Info:</p><p class="s11" style="padding-left: 79pt;text-indent: -9pt;text-align: left;">Public Key Algorithm: id-ecPublicKey Public-Key: (256 bit)</p><p class="s11" style="padding-left: 79pt;text-indent: 0pt;line-height: 12pt;text-align: left;">pub:</p><p class="s11" style="padding-left: 88pt;text-indent: 0pt;line-height: 12pt;text-align: left;">04:bd:7d:3b:3f:2b:de:9e:91:07:92:00:26:b5:25:</p><p class="s11" style="padding-left: 88pt;text-indent: 0pt;line-height: 12pt;text-align: left;">de:5a:f7:27:ac:48:89:c3:0d:c3:e7:3f:96:19:3e:</p><p class="s11" style="padding-left: 88pt;text-indent: 0pt;line-height: 12pt;text-align: left;">2a:07:14:0b:e5:b1:34:6b:53:9a:52:76:2e:63:7d:</p><p class="s11" style="padding-left: 88pt;text-indent: 0pt;text-align: left;">eb:9f:e7:47:15:33:9f:10:d2:08:0b:eb:3a:2e:66: 33:34:4a:43:38</p><p class="s11" style="padding-left: 79pt;text-indent: 0pt;text-align: left;">ASN1 OID: prime256v1 NIST CURVE: P-256</p><p class="s11" style="padding-left: 60pt;text-indent: 0pt;line-height: 12pt;text-align: left;">X509v3 extensions:</p><p class="s11" style="padding-left: 79pt;text-indent: -9pt;text-align: left;">X509v3 Basic Constraints: critical CA:FALSE</p><p class="s11" style="padding-left: 70pt;text-indent: 0pt;line-height: 12pt;text-align: left;">X509v3 Key Usage: critical</p><p class="s11" style="padding-left: 70pt;text-indent: 9pt;text-align: left;">Digital Signature, Non Repudiation, Key Encipherment X509v3 Extended Key Usage: critical</p><p class="s11" style="padding-left: 51pt;text-indent: 27pt;text-align: left;">TLS Web Client Authentication Signature Algorithm: ecdsa-with-SHA256</p><p class="s11" style="padding-left: 63pt;text-indent: 0pt;line-height: 12pt;text-align: left;">30:46:02:21:00:9e:7a:65:a9:a4:be:e3:a3:00:77:d6:d0:68:</p><p class="s11" style="padding-left: 63pt;text-indent: 0pt;line-height: 12pt;text-align: left;">1f:64:9a:ee:4f:9c:f3:1b:4b:58:f8:75:55:f8:48:f5:de:9a:</p><p class="s11" style="padding-left: 63pt;text-indent: 0pt;line-height: 12pt;text-align: left;">73:02:21:00:c3:49:be:4d:54:07:22:95:f1:c3:84:72:f0:17:</p><p class="s11" style="padding-left: 63pt;text-indent: 0pt;line-height: 12pt;text-align: left;">4f:92:1a:cf:6d:b9:ea:89:fa:af:1f:55:c8:0e:d2:ac:e0:a0</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s11" style="padding-left: 164pt;text-indent: 0pt;text-align: center;">DMS:086AEC3CE650543EE73568DA S:SE0 ID:MCU</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s12" style="padding-left: 82pt;text-indent: 0pt;text-align: left;">The hash is signed (ECDSA) using the Issuer’s private key</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 181pt;text-indent: 0pt;text-align: center;">Figure 4.2.  Device Certificate Example</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ul id="l13"><li><p style="padding-left: 36pt;text-indent: -9pt;text-align: left;">The device certificate is in X.509 DER format (~0.5 kB).</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The device certificate is stored in Secure Element (SE) one-time programmable memory (OTP). It cannot be modified once program- med.</p></li><li><p style="padding-top: 2pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The batch number (<span class="s14">Issuer: CN = Batch </span>field) identifies the factory and batch in which the device was produced.</p></li><li><p style="padding-top: 2pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The validity period is 100 years from device manufacture date.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The device 64-bit hard-coded unique ID (EUI) is encoded in the <span class="s14">Subject: CN </span>field, which blinds this certificate to the device.</p></li><li><p style="padding-top: 2pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The device-specific public key is embedded in the device certificate and the corresponding private key is securely stored in the Se- cure Key Storage on the chip.</p></li><li><p style="padding-top: 2pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">The Issuer&#39;s private key is used to sign the hash of the certificate data to create a device certificate signature.</p></li></ul></li><li><p class="s5" style="padding-top: 8pt;padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark12">Signing and Verification</a></p><p class="s10" style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark16" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">Signing and verification for certificates on Secure Vault devices are described in </a>Figure 4.3 Signing for Certificates on page 10 <a href="#bookmark17" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">and </a>Figure 4.4 Verification for Certificates on page 10<span style=" color: #000;">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;"><span><img width="724" height="517" alt="image" src="an1268-efr32-secure-identity/Image_013.png"/></span></p><p class="s5" style="padding-top: 6pt;padding-left: 181pt;text-indent: 0pt;text-align: center;"><a name="bookmark16">Figure 4.3.  Signing for Certificates</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 24pt;text-indent: 0pt;text-align: left;"><span><img width="722" height="238" alt="image" src="an1268-efr32-secure-identity/Image_014.png"/></span></p><p class="s5" style="padding-top: 7pt;padding-left: 181pt;text-indent: 0pt;text-align: center;"><a name="bookmark17">Figure 4.4.  Verification for Certificates</a></p></li></ol></li><li><p class="s4" style="padding-top: 7pt;padding-left: 39pt;text-indent: -15pt;text-align: left;"><a name="bookmark18">Device Certificate Options</a><a name="bookmark19">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s10" style="padding-left: 23pt;text-indent: 0pt;text-align: justify;"><a href="#bookmark17" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">The Secure Vault devices are each programmed with a device certificate during IC production. The device certificate is signed with a Public Device Key, using a Private Batch Key that can be validated against a Silicon Labs certificate chain (</a><a href="#bookmark17" class="a">Figure 4.4 Verification for </a>Certificates on page 10 <a href="#bookmark33" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">and section </a>7.2 Certificate Chain Verification<span style=" color: #000;">). The device private key never leaves the Secure Key Storage on the chip. Customers can create their own device certificates during their production.</span></p><p class="s10" style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: justify;"><a href="http://www.silabs.com/buysample/pages/contact-sales.aspx?view=map" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;" target="_blank">Three device certificate options (standard, modified, and external) are provided to meet different requirements. The modified and exter- nal options are subject to an additional cost. For these options, contact your local sales representative (</a><a href="http://www.silabs.com/buysample/pages/contact-sales.aspx?view=map" class="a" target="_blank">http://www.silabs.com/buysam- </a>ple/pages/contact-sales.aspx?view=map<span style=" color: #000;">).</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Standard Device Certificate:</p><ul id="l14"><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Comes standard with Secure Vault devices.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Cryptographically proves the device is an authentic Silicon Labs device.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Does not protect against overproduction or counterfeit products that are built with authentic Silicon Labs devices.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Signed to a Silicon Labs Certificate Authority (CA).</p></li><li><p class="s10" style="padding-top: 3pt;padding-bottom: 1pt;padding-left: 36pt;text-indent: -9pt;text-align: left;"><a href="#bookmark21" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">The device can prove that it possesses the private key associated with the public key in its certificate by signing the response to a given challenge (</a><a href="#bookmark21" class="a">Figure 6.1 Remote Authentication Process on page 13</a> <a href="#bookmark36" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">and section </a><a href="#bookmark36" class="a">7.3 Remote </a>Authentication<span style=" color: #000;">).</span></p><p style="padding-left: 154pt;text-indent: 0pt;text-align: left;"><span><img width="367" height="324" alt="image" src="an1268-efr32-secure-identity/Image_015.png"/></span></p><p class="s5" style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Modified Device Certificate:</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Available as a customization service on Secure Vault devices (OEM custom part number).</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Cryptographically proves the device is an authentic Silicon Labs device that was produced for a specific OEM.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Protects against overproduction by Contract Manufacturer (CM).</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Device Certificate X.509 fields can be specified, with restrictions.</p></li><li><p style="padding-top: 3pt;padding-bottom: 1pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Signed to a Silicon Labs Certificate Authority (CA).</p><p style="padding-left: 164pt;text-indent: 0pt;text-align: left;"><span><img width="349" height="308" alt="image" src="an1268-efr32-secure-identity/Image_016.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">External Device Certificate:</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Available as a customization service on Secure Vault devices (OEM custom part number).</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Cryptographically proves the device is an authentic Silicon Labs device that was produced for a specific OEM.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Protects against overproduction by Contract Manufacturer (CM).</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Factory Certificate is custom for each OEM.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Device Certificate and Factory Certificate X.509 fields can be specified, with restrictions.</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Signed to a OEM Certificate Authority (CA).</p></li><li><p style="padding-top: 3pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Root Certificate Authority is OEM-specified and is optional.</p></li><li><p style="padding-top: 3pt;padding-bottom: 1pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Electronic delivery of all batch and device certificates signed under this OEM factory certificate is supported.</p></li></ul><p style="padding-left: 164pt;text-indent: 0pt;text-align: left;"><span><img width="341" height="302" alt="image" src="an1268-efr32-secure-identity/Image_017.png"/></span></p><p class="s9" style="padding-bottom: 3pt;text-indent: 0pt;text-align: right;">Remote Authentication Process</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="713" height="0" alt="image" src="an1268-efr32-secure-identity/Image_018.png"/></span></p></li><li><p class="s4" style="padding-top: 7pt;padding-left: 39pt;text-indent: -15pt;text-align: left;"><a name="bookmark20">Remote Authentication Process</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="564" height="264" alt="image" src="an1268-efr32-secure-identity/Image_019.png"/></span></p><h4 style="padding-left: 16pt;text-indent: -16pt;text-align: left;">Silicon Labs Server</h4><p style="text-indent: 0pt;text-align: left;"/><h4 style="padding-left: 4pt;text-indent: 0pt;line-height: 13pt;text-align: left;">Remote Device</h4><p class="s15" style="padding-top: 6pt;text-indent: 0pt;text-align: left;">Verify Certificate Chain</p><p style="text-indent: 0pt;text-align: left;"/><h4 style="padding-left: 16pt;text-indent: -17pt;text-align: left;">Secure Vault Device</h4><p style="text-indent: 0pt;text-align: left;"/><h3 style="text-indent: 0pt;text-align: left;">2 1</h3><p style="text-indent: 0pt;text-align: left;"/><h3 style="text-indent: 0pt;text-align: left;">3</h3><p style="text-indent: 0pt;text-align: left;"/><p class="s16" style="text-indent: 0pt;line-height: 11pt;text-align: left;">Verify</p><p style="text-indent: 0pt;text-align: left;"/><h3 style="text-indent: 0pt;text-align: left;">5</h3><p style="text-indent: 0pt;text-align: left;"/><p class="s16" style="text-indent: 0pt;line-height: 17pt;text-align: left;">Sign<span class="s17"> </span><span class="s18">4</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s19" style="padding-left: 15pt;text-indent: 0pt;line-height: 10pt;text-align: left;">Challenge from</p><p class="s19" style="padding-left: 15pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Remote Device</p><p style="text-indent: 0pt;text-align: left;"/><p class="s19" style="padding-left: 2pt;text-indent: 0pt;line-height: 10pt;text-align: center;">Signature from</p><p class="s19" style="padding-left: 2pt;text-indent: 0pt;line-height: 11pt;text-align: center;">Secure Vault Device</p><p style="text-indent: 0pt;text-align: left;"/><p class="s19" style="padding-top: 4pt;padding-left: 7pt;text-indent: 0pt;text-align: left;">Private Device Key</p><p style="text-indent: 0pt;text-align: left;"/><p class="s19" style="padding-top: 4pt;padding-left: 10pt;text-indent: 0pt;text-align: left;">Device Certificate</p><p style="text-indent: 0pt;text-align: left;"/><p class="s19" style="padding-top: 4pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">Factory Certificate</p><p style="text-indent: 0pt;text-align: left;"/><p class="s19" style="padding-top: 4pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">Batch Certificate</p><p style="text-indent: 0pt;text-align: left;"/><p class="s19" style="padding-top: 4pt;padding-left: 14pt;text-indent: 0pt;text-align: left;">Root Certificate</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 23pt;text-indent: 0pt;text-align: left;">Remote authentication is used to manage attestation by requesting that the device sign a challenge based on its secure identity.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:244.43pt" cellspacing="0"><tr style="height:22pt"><td style="width:99pt;border-top-style:solid;border-top-width:1pt;border-top-color:#797777;border-left-style:solid;border-left-width:1pt;border-left-color:#797777;border-bottom-style:solid;border-bottom-width:2pt;border-bottom-color:#797777;border-right-style:solid;border-right-width:1pt;border-right-color:#797777" bgcolor="#FF0000"><p class="s20" style="padding-top: 4pt;padding-left: 15pt;text-indent: 0pt;text-align: left;"><a name="bookmark21">Root Certificate</a></p></td></tr><tr style="height:22pt"><td style="width:99pt;border-top-style:solid;border-top-width:2pt;border-top-color:#797777;border-left-style:solid;border-left-width:1pt;border-left-color:#797777;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#797777;border-right-style:solid;border-right-width:1pt;border-right-color:#797777" bgcolor="#FFBF00"><p class="s20" style="padding-top: 3pt;padding-right: 8pt;text-indent: 0pt;text-align: right;">Factory Certificate</p></td></tr><tr style="height:22pt"><td style="width:99pt;border-top-style:solid;border-top-width:1pt;border-top-color:#797777;border-left-style:solid;border-left-width:1pt;border-left-color:#797777;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#797777;border-right-style:solid;border-right-width:1pt;border-right-color:#797777" bgcolor="#0070BF"><p class="s20" style="padding-top: 4pt;padding-right: 12pt;text-indent: 0pt;text-align: right;">Batch Certificate</p></td></tr><tr style="height:22pt"><td style="width:99pt;border-top-style:solid;border-top-width:1pt;border-top-color:#797777;border-left-style:solid;border-left-width:1pt;border-left-color:#797777;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#797777;border-right-style:solid;border-right-width:1pt;border-right-color:#797777" bgcolor="#00B050"><p class="s20" style="padding-top: 4pt;padding-right: 9pt;text-indent: 0pt;text-align: right;">Device Certificate</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-top: 4pt;padding-left: 181pt;text-indent: 0pt;text-align: center;">Figure 6.1.  Remote Authentication Process</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l15"><li><p style="padding-left: 41pt;text-indent: -8pt;text-align: justify;">The remote device requests the device certificate and batch certificate from the Secure Vault device.</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: justify;">The remote device looks up the factory certificate and root certificate from the Silicon Labs Server.</p></li><li><p class="s10" style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: justify;"><a href="#bookmark17" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">The remote device validates each certificate in the chain using the public key of each Issuer (</a><a href="#bookmark17" class="a">Figure 4.4 Verification for Certificates on page </a>10<span style=" color: #000;">).</span></p></li><li><p style="padding-top: 2pt;padding-left: 41pt;text-indent: -8pt;text-align: justify;">The remote device then sends an attestation challenge (random number) to the Secure Vault device. The Secure Vault device uses the Private Device Key in the Secure Key Storage on the chip to sign the challenge and sends the signature to the remote device.</p></li><li><p style="padding-top: 2pt;padding-left: 41pt;text-indent: -8pt;text-align: justify;">The remote device validates the signature using the Public Device Key in the device certificate.</p></li></ol></li><li><p class="s4" style="padding-top: 7pt;padding-left: 39pt;text-indent: -15pt;text-align: left;"><a name="bookmark22">Examples</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l16"><li><p class="s5" style="padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark23">Overview</a></p><p class="s10" style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;"><a href="#bookmark31" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">The secure device authentication examples are described in </a>Table 7.1 Secure Device Authentication Examples on page 14<span style=" color: #000;">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 181pt;text-indent: 0pt;text-align: center;"><a name="bookmark31">Table 7.1.  Secure Device Authentication Examples</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:24pt" cellspacing="0"><tr style="height:19pt"><td style="width:130pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Example</p></td><td style="width:140pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Device</p></td><td style="width:76pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Radio Board</p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">SE Firmware</p></td><td style="width:119pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" bgcolor="#797777"><p class="s6" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Tool</p></td></tr><tr style="height:30pt"><td style="width:130pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt" rowspan="2"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Certificate chain verification</p></td><td style="width:140pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">EFR32MG21B010F1024IM32</p></td><td style="width:76pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">BRD4181C</p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Version 1.2.4</p></td><td style="width:119pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="padding-top: 3pt;padding-left: 2pt;padding-right: 7pt;text-indent: 0pt;text-align: left;"><a href="#bookmark34" class="s21">Simplicity Commander and OpenSSL</a></p></td></tr><tr style="height:19pt"><td style="width:140pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">EFR32MG21B010F1024IM32</p></td><td style="width:76pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">BRD4181C</p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Version 1.2.4</p></td><td style="width:119pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a href="#bookmark35" class="s21">Simplicity Commander</a></p></td></tr><tr style="height:30pt"><td style="width:130pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;"><a href="#bookmark36" class="s21">Remote authentication</a></p></td><td style="width:140pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">EFR32MG21B010F1024IM32</p></td><td style="width:76pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">BRD4181C</p></td><td style="width:75pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Version 1.2.4</p></td><td style="width:119pt;border-top-style:solid;border-top-width:1pt;border-left-style:solid;border-left-width:1pt;border-bottom-style:solid;border-bottom-width:1pt;border-right-style:solid;border-right-width:1pt"><p class="s7" style="padding-top: 3pt;padding-left: 2pt;padding-right: 12pt;text-indent: 0pt;text-align: left;">Secure Element Manager and mbed TLS</p></td></tr></table><p style="padding-top: 5pt;padding-left: 24pt;text-indent: 0pt;text-align: left;"><b>Note: </b>Assume the root certificate (<span class="s14">root.pem</span>) and factory certificate (<span class="s14">factory.pem</span>) have already been retrieved from the Silicon Labs Server.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l17"><ol id="l18"><ol id="l19"><li><p class="s5" style="padding-left: 49pt;text-indent: -25pt;text-align: left;"><a name="bookmark24">Using Simplicity Commander</a></p><ol id="l20"><li><p style="padding-top: 8pt;padding-left: 42pt;text-indent: -8pt;text-align: left;">Simplicity Commander&#39;s Command Line Interface (CLI) is invoked by <span class="s14">commander.exe </span>in the Simplicity Commander folder. The lo- cation in Windows is <span class="s14">C:\SiliconLabs\SimplicityStudio\&lt;version&gt;\developer\adapter_packs\commander</span>.</p></li><li><p style="padding-top: 2pt;padding-left: 42pt;text-indent: -8pt;text-align: left;">Simplicity Commander Version 1.10.1 is used in this application note.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> commander --version                                                                                          </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">Simplicity Commander 1v10p1b839</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s14" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">JLink DLL version: 6.70a</p><p class="s14" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">Qt 5.12.1 Copyright (C) 2017 The Qt Company Ltd.</p><p class="s14" style="padding-left: 2pt;text-indent: 0pt;line-height: 107%;text-align: left;">EMDLL Version: 0v17p14b549 mbed TLS version: 2.6.1</p><p class="s14" style="padding-left: 2pt;text-indent: 0pt;line-height: 19pt;text-align: left;">Emulator found with SN=440068705 USBAddr=0 DONE</p><p style="padding-left: 39pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-top: 4pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">If more than one WSTK is connected via USB, the target Wireless Starter Kit (WSTK) must be specified using the <span class="s14">--serialno &lt;J- Link serial number&gt; </span>option.</p></li><li><p style="padding-top: 2pt;padding-left: 23pt;text-indent: 9pt;line-height: 173%;text-align: left;">If the WSTK is in debug mode OUT, the target device must be specified using the <span class="s14">--device &lt;device name&gt; </span><a href="https://www.silabs.com/documents/public/user-guides/ug162-simplicity-commander-reference-guide.pdf" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;" target="_blank">option For more information about Simplicity Commander, see </a><span style=" color: #049;">UG162: Simplicity Commander Reference Guide</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li><p class="s5" style="padding-left: 49pt;text-indent: -25pt;text-align: left;"><a name="bookmark25">Using an External Tool</a></p><p class="s10" style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;"><a href="#bookmark34" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">OpenSSL is used in the </a>certificate chain verification <a href="https://slproweb.com/products/Win32OpenSSL.html" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;" target="_blank">example to validate the certificate chain. The Windows version of OpenSSL can be downloaded from here — </a>https://slproweb.com/products/Win32OpenSSL.html<span style=" color: #000;">.</span></p></li><li><p class="s5" style="padding-top: 8pt;padding-left: 49pt;text-indent: -25pt;text-align: left;"><a name="bookmark26">Using the Platform Example</a><a name="bookmark32">&zwnj;</a></p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">This section describes how to use Simplicity Studio 5 to build the secure identity platform example and program it to the Wireless Start- er Kit (WSTK).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><ol id="l21"><li><p style="padding-left: 41pt;text-indent: -8pt;text-align: left;">The connected WSTK is displayed in the Debug Adapters view in the [<b>Launcher</b>] perspective.Click the target radio board (<b>BRD4181C </b>in this example) This will automatically configure the task bars for use with your device.</p></li><li><p style="padding-top: 2pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">From the [<b>Launcher</b>] perspective, click [<b>EXAMPLE PROJECTS</b>].</p></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">On the [<b>EXAMPLE PROJECTS</b>] tab, check the <b>Platform (n) </b>under <b>Technology Type</b>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="674" height="356" alt="image" src="an1268-efr32-secure-identity/Image_020.png"/></span></p><p class="s25" style="text-indent: 0pt;line-height: 6pt;text-align: left;">1</p><p style="text-indent: 0pt;text-align: left;"/><p class="s25" style="text-indent: 0pt;line-height: 6pt;text-align: left;">2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s25" style="text-indent: 0pt;line-height: 6pt;text-align: left;">3</p><p style="text-indent: 0pt;text-align: left;"/><p class="s25" style="text-indent: 0pt;line-height: 6pt;text-align: left;">4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s25" style="text-indent: 0pt;line-height: 6pt;text-align: left;">5</p><p style="text-indent: 0pt;text-align: left;"/></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Find the <b>Platform - SE Manager Secure Identity </b>example and click [<b>CREATE</b>].</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="451" height="289" alt="image" src="an1268-efr32-secure-identity/Image_021.png"/></span></p><p class="s26" style="text-indent: 0pt;text-align: left;">6</p><p style="text-indent: 0pt;text-align: left;"/></li><li><p style="padding-top: 4pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">In the [<b>Project Configuration</b>] dialog, optionally name your project and select a different project location. Click [<b>FINISH</b>].</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="23" height="24" alt="image" src="an1268-efr32-secure-identity/Image_022.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="674" height="274" alt="image" src="an1268-efr32-secure-identity/Image_023.png"/></span></p><p class="s25" style="text-indent: 0pt;line-height: 6pt;text-align: left;">7</p><p style="text-indent: 0pt;text-align: left;"/></li><li><p style="padding-top: 4pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">In the [<b>Simplicity IDE</b>] perspective, click the [<b>Build</b>] icon ( ).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-top: 4pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">In the Project Explorer view, right-click the <span class="s14">se_manager_secure_identity.s37 </span>file under <b>Binaries </b>in Project Explorer.</p></li><li><p style="padding-top: 2pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Click [<b>Flash to Device...</b>] in the context menu to open the <b>Flash Programmer</b>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="309" height="434" alt="image" src="an1268-efr32-secure-identity/Image_024.png"/></span></p><p class="s27" style="text-indent: 0pt;line-height: 12pt;text-align: left;">10</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="343" height="434" alt="image" src="an1268-efr32-secure-identity/Image_025.png"/></span></p><p class="s27" style="text-indent: 0pt;line-height: 12pt;text-align: left;">8</p><p style="text-indent: 0pt;text-align: left;"/><p class="s27" style="text-indent: 0pt;line-height: 12pt;text-align: left;">9</p><p style="text-indent: 0pt;text-align: left;"/></li><li><p style="padding-top: 3pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Click [<b>Program</b>] to flash the <span class="s14">se_manager_secure_identity.s37 </span>file to the radio board.</p></li></ol></li></ol></ol></ol><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 55pt;text-indent: 0pt;text-align: left;"><span style=" color: black; font-style: normal; font-weight: normal; text-decoration: none;">	</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p class="s5" style="padding-top: 4pt;padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark27">Certificate Chain Verification</a><a name="bookmark33">&zwnj;</a></p><p class="s10" style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;"><a href="#bookmark17" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">Certificate chain verification is the process of making sure a given certificate chain is well-formed, valid, properly signed, and trustwor- thy. The certificate signature is verified using the public key in the issuer certificate (</a>Figure 4.4 Verification for Certificates on page 10<span style=" color: #000;">).</span></p><ol id="l22"><ol id="l23"><ol id="l24"><li><p class="s5" style="padding-top: 8pt;padding-left: 49pt;text-indent: -25pt;text-align: left;"><a name="bookmark28">Simplicity Commander and OpenSSL</a><a name="bookmark34">&zwnj;</a></p><ol id="l25"><li><p style="padding-top: 8pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Run the <span class="s14">security readcert </span>command to save the batch certificate in PEM format.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> commander security readcert batch -o </span><span class="s28" style=" background-color: #D8D8D8;">batch.pem </span><span class="s23" style=" background-color: #D8D8D8;">--serialno 440068705                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> DONE                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 41pt;text-indent: -8pt;text-align: left;">Run the <span class="s14">security readcert </span>command to save the device certificate in PEM format.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> commander security readcert mcu -o </span><span class="s28" style=" background-color: #D8D8D8;">device.pem </span><span class="s23" style=" background-color: #D8D8D8;">--serialno 440068705                                           </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> DONE                                                                                                         </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-left: 42pt;text-indent: -8pt;text-align: left;">Run the DOS <span class="s14">copy </span>command to merge the root certificate (<span class="s14">root.pem</span>) and factory certificate (<span class="s14">factory.pem</span>) into a certificate chain file (<span class="s14">chain.pem</span>).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> copy root.pem+factory.pem </span><span class="s28" style=" background-color: #D8D8D8;">chain.pem                                                                          </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s14" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;line-height: 107%;text-align: left;">root.pem factory.pem</p><p class="s14" style="padding-left: 41pt;text-indent: 0pt;text-align: left;">1 file(s) copied.</p><p style="padding-left: 39pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p style="padding-top: 4pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">The certificate information (e.g. <span class="s14">device.pem</span>) can be displayed by OpenSSL.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> openssl x509 -in </span><span class="s28" style=" background-color: #D8D8D8;">device.pem </span><span class="s23" style=" background-color: #D8D8D8;">-text -noout                                                                     </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s29" style="padding-top: 3pt;padding-left: 20pt;text-indent: -17pt;text-align: left;">Certificate:</p><p class="s29" style="padding-left: 20pt;text-indent: 0pt;text-align: left;">Data:</p><p class="s29" style="padding-left: 37pt;text-indent: 0pt;line-height: 110%;text-align: left;">Version: 3 (0x2) Serial Number:</p><p class="s29" style="padding-left: 55pt;text-indent: 0pt;text-align: left;">f2:59:94:21:76:1e:81:be:2b:6a:dd:09:1e:f2:fb:74:46:2c:20:b3</p><p class="s29" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">Signature Algorithm: ecdsa-with-SHA256</p><p class="s30" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">Issuer: CN = Batch 1001317, O = Silicon Labs Inc., C = US</p><p class="s29" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">Validity</p><p class="s29" style="padding-left: 55pt;text-indent: 0pt;text-align: left;">Not Before: Nov 19 14:30:15 2019 GMT</p><p class="s29" style="padding-left: 55pt;text-indent: 0pt;text-align: left;">Not After : Nov 19 14:30:15 2119 GMT</p><p class="s30" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">Subject: C = US, O = Silicon Labs Inc., CN = EUI:14B457FFFE0F7777 DMS:086AEC3CE650543EE73568DA S:SE0 ID:MCU</p><p class="s29" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">Subject Public Key Info:</p><p class="s29" style="padding-left: 72pt;text-indent: -17pt;line-height: 110%;text-align: left;">Public Key Algorithm: id-ecPublicKey Public-Key: (256 bit)</p><p class="s29" style="padding-left: 72pt;text-indent: 0pt;text-align: left;">pub:</p><p class="s29" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">04:bd:7d:3b:3f:2b:de:9e:91:07:92:00:26:b5:25:</p><p class="s29" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">de:5a:f7:27:ac:48:89:c3:0d:c3:e7:3f:96:19:3e:</p><p class="s29" style="padding-left: 90pt;text-indent: 0pt;text-align: left;">2a:07:14:0b:e5:b1:34:6b:53:9a:52:76:2e:63:7d:</p><p class="s29" style="padding-left: 90pt;text-indent: 0pt;line-height: 110%;text-align: left;">eb:9f:e7:47:15:33:9f:10:d2:08:0b:eb:3a:2e:66: 33:34:4a:43:38</p><p class="s29" style="padding-left: 72pt;text-indent: 0pt;line-height: 110%;text-align: left;">ASN1 OID: prime256v1 NIST CURVE: P-256</p><p class="s29" style="padding-left: 37pt;text-indent: 0pt;text-align: left;">X509v3 extensions:</p><p class="s29" style="padding-left: 72pt;text-indent: -17pt;line-height: 110%;text-align: left;">X509v3 Basic Constraints: critical CA:FALSE</p><p class="s29" style="padding-left: 55pt;text-indent: 0pt;text-align: left;">X509v3 Key Usage: critical</p><p class="s29" style="padding-left: 55pt;text-indent: 17pt;line-height: 110%;text-align: left;">Digital Signature, Non Repudiation, Key Encipherment X509v3 Extended Key Usage: critical</p><p class="s29" style="padding-left: 20pt;text-indent: 52pt;line-height: 110%;text-align: left;">TLS Web Client Authentication Signature Algorithm: ecdsa-with-SHA256</p><p class="s29" style="padding-left: 42pt;text-indent: 0pt;text-align: left;">30:46:02:21:00:9e:7a:65:a9:a4:be:e3:a3:00:77:d6:d0:68:</p><p class="s29" style="padding-left: 42pt;text-indent: 0pt;text-align: left;">1f:64:9a:ee:4f:9c:f3:1b:4b:58:f8:75:55:f8:48:f5:de:9a:</p><p class="s29" style="padding-left: 42pt;text-indent: 0pt;text-align: left;">73:02:21:00:c3:49:be:4d:54:07:22:95:f1:c3:84:72:f0:17:</p><p class="s29" style="padding-left: 42pt;text-indent: 0pt;text-align: left;">4f:92:1a:cf:6d:b9:ea:89:fa:af:1f:55:c8:0e:d2:ac:e0:a0</p><p style="padding-left: 39pt;text-indent: 0pt;text-align: left;"/></li><li><p style="padding-top: 8pt;padding-left: 41pt;text-indent: -8pt;text-align: left;">Use OpenSSL to verify the certificate chain from step 1 to 3.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 39pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> openssl verify -show_chain -CAfile </span><span class="s28" style=" background-color: #D8D8D8;">chain.pem </span><span class="s23" style=" background-color: #D8D8D8;">-untrusted </span><span class="s28" style=" background-color: #D8D8D8;">batch.pem device.pem                                </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s30" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;line-height: 111%;text-align: left;">device.pem: OK Chain:</p><p class="s29" style="padding-left: 2pt;text-indent: 0pt;line-height: 8pt;text-align: left;">depth=0: C = US, O = Silicon Labs Inc., CN = EUI:14B457FFFE0F7777 DMS:086AEC3CE650543EE73568DA S:SE0 ID:MCU (untrusted)</p><p class="s29" style="padding-left: 2pt;text-indent: 0pt;line-height: 110%;text-align: left;">depth=1: CN = Batch 1001317, O = Silicon Labs Inc., C = US (untrusted) depth=2: CN = Factory, O = Silicon Labs Inc., C = US</p><p class="s29" style="padding-left: 2pt;text-indent: 0pt;text-align: left;">depth=3: CN = Device Root CA, O = Silicon Labs Inc., C = US</p><p style="padding-left: 39pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p></li></ol></li><li><p class="s5" style="padding-top: 4pt;padding-left: 49pt;text-indent: -25pt;text-align: left;"><a name="bookmark29">Simplicity Commander</a><a name="bookmark35">&zwnj;</a></p></li></ol></ol></ol><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">Run the <span class="s14">security readcert </span>command to display the key information about the on-chip certificates (e.g. <span class="s14">mcu</span>).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> commander security readcert mcu --serialno 440068705                                                            </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="728" height="125" alt="image" src="an1268-efr32-secure-identity/Image_026.png"/></span></p><p class="s29" style="text-indent: 0pt;line-height: 110%;text-align: left;">Signature algorithm: SHA256 Public Key Type : ECDSA</p><p class="s29" style="padding-left: 91pt;text-indent: -91pt;line-height: 110%;text-align: left;">Public key : bd7d3b3f2bde9e9107920026b525de5af727ac4889c30dc3e73f96193e2a0714 0be5b1346b539a52762e637deb9fe74715339f10d2080beb3a2e6633344a4338</p><p class="s29" style="text-indent: 0pt;text-align: left;">DONE</p><p style="text-indent: 0pt;text-align: left;"/><p class="s29" style="text-indent: 0pt;text-align: left;">: 3</p><p class="s29" style="text-indent: 0pt;text-align: left;">: C=US O=Silicon Labs Inc. CN=EUI:14B457FFFE0F7777 DMS:086AEC3CE650543EE73568DA S:SE0 ID:MCU</p><p class="s29" style="text-indent: 0pt;text-align: left;">: CN=Batch 1001317 O=Silicon Labs Inc. C=US</p><p class="s29" style="text-indent: 0pt;text-align: left;">: November 19 2019</p><p class="s29" style="text-indent: 0pt;text-align: left;">: November 19 2119</p><p style="text-indent: 0pt;text-align: left;"/><p class="s29" style="text-indent: 0pt;line-height: 110%;text-align: left;">Version Subject Issuer Valid From Valid To</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 7pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Run the <span class="s14">security attestation </span>command to verify the on-chip batch and device certificates with root and factory certificates.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> commander security attestation --serialno 440068705                                                             </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 5pt;padding-left: 21pt;text-indent: 0pt;text-align: left;"><span class="s23" style=" background-color: #D8D8D8;"> Certificate chain successfully validated up to Silicon Labs device root certificate.                            </span></p><p style="text-indent: 0pt;text-align: left;"><br/></p></li><li><p class="s5" style="padding-left: 41pt;text-indent: -17pt;text-align: left;"><a name="bookmark30">Remote Authentication</a><a name="bookmark36">&zwnj;</a></p></li></ol></li></ol><p class="s10" style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;"><a href="#bookmark32" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">See section </a>7.1.3 Using the Platform Example <span style=" color: #000;">for more information on programming the security identity platform example to the WSTK. The </span><span class="s14">se_manager_identity </span><a href="#bookmark21" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">example uses APIs in Secure Element Manager and mbed TLS to emulate the processes in </a><a href="#bookmark21">Figure</a></p><p class="s10" style="padding-left: 24pt;text-indent: 0pt;line-height: 10pt;text-align: left;">6.1 Remote Authentication Process on page 13<span style=" color: #000;">.</span></p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">To eliminate the communications between different parties in this example, the operations in the remote device are simulated by the Secure Vault device, and the factory certificate and root certificate are hard-coded in <span class="s14">app_mbedtls_x509.c</span>.</p><p class="s10" style="padding-top: 7pt;padding-left: 24pt;text-indent: 0pt;text-align: left;"><a href="#bookmark19" style=" color: black; font-family:Arial, sans-serif; font-style: normal; font-weight: normal; text-decoration: none; font-size: 9pt;">This example uses the CRYPTO engine in the Secure Element to accelerate the X.509 API functions of mbed TLS. The Private Device Key in the Secure Key Storage on the chip is used to sign the challenge from the remote device so this example can only run on a </a>Standard Device Certificate<span style=" color: #000;">.</span></p><p style="padding-top: 8pt;padding-left: 23pt;text-indent: 0pt;text-align: left;">The example redirects standard I/O to the virtual serial port (VCOM) of the WSTK. Open a terminal program (for example, Tera Term) and access the WSTK VCOM port (default setting is 115200 bps 8-N-1).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 23pt;text-indent: 0pt;text-align: left;">Step 1 in the Remote Authentication Process:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s14" style="padding-top: 3pt;padding-left: 2pt;text-indent: 0pt;text-align: left;">SE Manager Secure Identity Example - Core running at 38000 kHz.</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">. SE manager initialization... SL_STATUS_OK (cycles: 10 time: 0 us)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s24" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">. Secure Vault device:</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">+ Read size of on-chip certificates... SL_STATUS_OK (cycles: 4013 time: 105 us)</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">+ Read on-chip device certificate... SL_STATUS_OK (cycles: 4443 time: 116 us)</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">+ Parse the device certificate (DER format)... SL_STATUS_OK (cycles: 51168 time: 1346 us)</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">+ Get the public device key in device certificate... OK</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">+ Read on-chip batch certificate... SL_STATUS_OK (cycles: 4430 time: 116 us)</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">+ Parse the batch certificate (DER format)... SL_STATUS_OK (cycles: 62936 time: 1656 us)</p><p style="padding-left: 21pt;text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Steps 2 and 3 in the Remote Authentication Process (certificate chain printout is disabled):</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s24" style="padding-top: 3pt;padding-left: 12pt;text-indent: 0pt;text-align: left;">. Remote device:</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">+ Parse the factory certificate (PEM format)... SL_STATUS_OK (cycles: 177168 time: 4662 us)</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">+ Parse the root certificate (PEM format)... SL_STATUS_OK (cycles: 160914 time: 4234 us)</p><p class="s14" style="padding-left: 12pt;text-indent: 0pt;text-align: left;">+ Verify the certificate chain with root certificate... <b>SL_STATUS_OK </b>(cycles: 964681 time: <b>25386 us</b>)</p><p style="padding-left: 21pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Steps 2 and 3 in the Remote Authentication Process (certificate chain printout is enabled):</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s30" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">. Remote device:</p><p class="s29" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">+ Parse the factory certificate (PEM format)... SL_STATUS_OK (cycles: 177170 time: 4662 us)</p><p class="s29" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">+ Parse the root certificate (PEM format)... SL_STATUS_OK (cycles: 160935 time: 4235 us)</p><p class="s29" style="padding-left: 29pt;text-indent: -17pt;line-height: 110%;text-align: left;">+ Verify requested for (Depth 3) ... OK cert. version : 3</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: justify;">serial number : 12:E6:A2:A5:9C:AA:27:F9</p><p class="s30" style="padding-left: 29pt;text-indent: 0pt;line-height: 111%;text-align: justify;">issuer name : CN=Device Root CA, O=Silicon Labs Inc., C=US subject name : CN=Device Root CA, O=Silicon Labs Inc., C=US <span class="s29">issued on : 2018-10-10 17:32:00</span></p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;line-height: 110%;text-align: left;">expires on : 2118-09-16 17:32:00 signed using     : ECDSA with SHA256 EC key size : 256 bits</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">basic constraints : CA=true, max_pathlen=2</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">key usage : Digital Signature, Key Cert Sign, CRL Sign</p><p class="s29" style="padding-left: 29pt;text-indent: -17pt;line-height: 110%;text-align: left;">+ Verify requested for (Depth 2) ... OK cert. version : 3</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">serial number : 24:DC:7B:40:0C:32:9C:0A</p><p class="s30" style="padding-left: 29pt;text-indent: 0pt;line-height: 111%;text-align: left;">issuer name : CN=Device Root CA, O=Silicon Labs Inc., C=US subject name : CN=Factory, O=Silicon Labs Inc., C=US</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;line-height: 8pt;text-align: left;">issued on : 2018-10-10 17:33:00</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;line-height: 110%;text-align: left;">expires on : 2118-09-16 17:32:00 signed using     : ECDSA with SHA256 EC key size : 256 bits</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">basic constraints : CA=true, max_pathlen=1</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">key usage : Digital Signature, Key Cert Sign, CRL Sign</p><p class="s29" style="padding-left: 29pt;text-indent: -17pt;line-height: 110%;text-align: left;">+ Verify requested for (Depth 1) ... OK cert. version : 3</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">serial number : 23:09:DA:39:B4:78:05:AA</p><p class="s30" style="padding-left: 29pt;text-indent: 0pt;line-height: 111%;text-align: left;">issuer name     : CN=Factory, O=Silicon Labs Inc., C=US subject name : CN=Batch 1001317, O=Silicon Labs Inc., C=US <span class="s29">issued on : 2019-10-17 21:20:20</span></p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;line-height: 110%;text-align: left;">expires on : 2118-09-16 17:32:00 signed using     : ECDSA with SHA256 EC key size : 256 bits</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">basic constraints : CA=true, max_pathlen=0</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">key usage : Digital Signature, Key Cert Sign</p><p class="s29" style="padding-left: 29pt;text-indent: -17pt;line-height: 110%;text-align: left;">+ Verify requested for (Depth 0) ... OK cert. version : 3</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">serial number : F2:59:94:21:76:1E:81:BE:2B:6A:DD:09:1E:F2:FB:74:46:2C:20:B3</p><p class="s30" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">issuer name : CN=Batch 1001317, O=Silicon Labs Inc., C=US</p><p class="s30" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">subject name : C=US, O=Silicon Labs Inc., CN=EUI:14B457FFFE0F7777 DMS:086AEC3CE650543EE73568DA S:SE0 ID:MCU</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">issued on : 2019-11-19 14:30:15</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;line-height: 110%;text-align: left;">expires on : 2119-11-19 14:30:15 signed using     : ECDSA with SHA256 EC key size : 256 bits</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;text-align: left;">basic constraints : CA=false</p><p class="s29" style="padding-left: 29pt;text-indent: 0pt;line-height: 110%;text-align: left;">key usage     : Digital Signature, Non Repudiation, Key Encipherment ext key usage : TLS Web Client Authentication</p><p class="s29" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">+ Verify the certificate chain with root certificate... <b>SL_STATUS_OK </b>(cycles: 8920041 time: <b>234 ms</b>)</p><p style="padding-left: 21pt;text-indent: 0pt;text-align: left;"/><p class="s5" style="padding-top: 4pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">Note: <span class="p">The longer processing time (234 ms) is due to the certificate chain printout.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Steps 4 and 5 in the Remote Authentication Process:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s30" style="padding-top: 3pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">. Remote authentication:</p><p class="s29" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">+ Create 16 bytes challenge (random number) in remote device for signing... SL_STATUS_OK (cycles: 3724 time: 98 us)</p><p class="s29" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">+ Sign challenge with private device key in Secure Vault device... SL_STATUS_OK (cycles: 222346 time: 5851 us)</p><p class="s29" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">+ Verify signature with public device key in remote device... SL_STATUS_OK (cycles: 236712 time: 6229 us)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s29" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">. SE manager deinitialization... SL_STATUS_OK (cycles: 9 time: 0 us)</p><p style="padding-left: 21pt;text-indent: 0pt;text-align: left;"/><p class="s9" style="padding-bottom: 3pt;text-indent: 0pt;text-align: right;">Revision History</p><p style="padding-left: 24pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="713" height="0" alt="image" src="an1268-efr32-secure-identity/Image_027.png"/></span></p><p class="s4" style="padding-top: 7pt;padding-left: 24pt;text-indent: 0pt;text-align: left;"><a name="bookmark37">8. Revision History</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s5" style="padding-left: 24pt;text-indent: 0pt;text-align: left;">Revision 0.1</p><p style="padding-top: 8pt;padding-left: 24pt;text-indent: 0pt;text-align: left;">September 2020</p><ul id="l26"><li><p style="padding-top: 8pt;padding-left: 36pt;text-indent: -9pt;text-align: left;">Initial Revision.</p></li></ul><p style="text-indent: 0pt;text-align: left;"><br/></p><h2 style="padding-top: 17pt;padding-left: 36pt;text-indent: 0pt;text-align: left;">Simplicity Studio</h2><p class="s31" style="padding-top: 16pt;padding-left: 36pt;text-indent: 0pt;text-align: left;">One-click access to MCU and wireless tools, documentation, software, source code libraries &amp; more. Available for Windows, Mac and Linux!</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="768" height="433" alt="image" src="an1268-efr32-secure-identity/Image_028.jpg"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="79" height="80" alt="image" src="an1268-efr32-secure-identity/Image_029.png"/></span></p><p class="s32" style="padding-top: 6pt;padding-left: 74pt;text-indent: 0pt;text-align: left;">IoT Portfolio</p><p style="padding-top: 1pt;padding-left: 66pt;text-indent: 0pt;text-align: left;"><a href="http://www.silabs.com/IoT" class="s33">www.silabs.com/IoT</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="79" height="80" alt="image" src="an1268-efr32-secure-identity/Image_030.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-top: 11pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">SW/HW</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 37pt;text-indent: 0pt;text-align: left;"><a href="http://www.silabs.com/simplicity" class="s34">www.silabs.com/simplicity</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="79" height="80" alt="image" src="an1268-efr32-secure-identity/Image_031.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s32" style="padding-top: 11pt;padding-left: 6pt;text-indent: 0pt;text-align: left;">Quality</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 32pt;text-indent: 0pt;text-align: left;"><a href="http://www.silabs.com/quality" class="s33">www.silabs.com/quality</a></p><p class="s32" style="padding-top: 6pt;padding-left: 31pt;text-indent: 0pt;text-align: left;">Support &amp; Community</p><p style="text-indent: 0pt;text-align: left;"><span><img width="79" height="80" alt="image" src="an1268-efr32-secure-identity/Image_032.png"/></span></p><p style="padding-top: 1pt;padding-left: 33pt;text-indent: 0pt;text-align: left;"><a href="http://www.silabs.com/community" class="s33">www.silabs.com/community</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-top: 5pt;padding-left: 5pt;text-indent: 0pt;text-align: left;">Disclaimer</p><p class="s36" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 122%;text-align: left;">Silicon Labs intends to provide customers with the latest, accurate, and in-depth documentation of all peripherals and modules available for system and software implementers using or intending to use the Silicon Labs products. Characterization data, available modules and peripherals, memory sizes and memory addresses refer to each specific device, and “Typical” parameters provided can and do vary in different applications. Application examples described herein are for illustrative purposes only. Silicon Labs reserves the right to make changes without further notice to the product information, specifications, and descriptions herein, and does not give warranties as to the accuracy or completeness of the included information. Without prior notification, Silicon Labs may update product firmware during the manufacturing process for security or reliability reasons.  Such changes will not alter the specifications or the performance of the product.  Silicon Labs shall have no liability for the consequences of use of the information supplied in this document. This document does not imply or expressly grant any license to design or fabricate any integrated circuits. The products are not designed or authorized to be used within any FDA Class III devices, applications for which FDA premarket approval is required, or Life Support Systems without the specific written consent of Silicon Labs. A “Life Support System” is any product or system intended to support or sustain life and/or health, which, if it fails, can be reasonably expected to result in significant personal injury or death. Silicon Labs products are not designed or authorized for military applications. Silicon Labs products shall under no circumstances be used in weapons of mass destruction including (but not limited to) nuclear, biological or chemical weapons, or missiles capable of delivering such weapons. Silicon Labs disclaims all express and implied warranties and shall not be responsible or liable for any injuries or damages related to use of a Silicon Labs product in such unauthorized applications.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s35" style="padding-left: 5pt;text-indent: 0pt;text-align: left;">Trademark Information</p><p class="s36" style="padding-top: 1pt;padding-left: 5pt;text-indent: 0pt;line-height: 122%;text-align: left;">Silicon Laboratories Inc.®, Silicon Laboratories®, Silicon Labs®, SiLabs® and the Silicon Labs logo®, Bluegiga®, Bluegiga Logo®, ClockBuilder®, CMEMS®, DSPLL®, EFM®, EFM32®, EFR, Ember®, Energy Micro, Energy Micro logo and combinations thereof, “the world’s most energy friendly microcontrollers”, Ember®, EZLink®, EZRadio®, EZRadioPRO®, Gecko®, Gecko OS, Gecko OS Studio, ISOmodem®, Precision32®, ProSLIC®, Simplicity Studio®, SiPHY®, Telegesis, the Telegesis Logo®, USBXpress®, Zentri, the Zentri logo and Zentri DMS, Z-Wave®, and others are trademarks or registered trademarks of Silicon Labs. ARM, CORTEX, Cortex-M3 and THUMB are trademarks or registered trademarks of ARM Holdings. Keil is a registered trademark of ARM Limited. Wi-Fi is a registered trademark of the Wi-Fi Alliance. All other products or brand names mentioned herein are trademarks of their respective holders.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="134" height="66" alt="image" src="an1268-efr32-secure-identity/Image_033.png"/></span></p><p class="s37" style="padding-top: 7pt;padding-left: 134pt;text-indent: 0pt;text-align: left;">Silicon Laboratories Inc. 400 West Cesar Chavez Austin, TX 78701</p><p class="s37" style="padding-left: 134pt;text-indent: 0pt;line-height: 9pt;text-align: left;">USA</p><p style="padding-top: 4pt;padding-left: 134pt;text-indent: 0pt;text-align: left;"><a href="http://www.silabs.com/" class="s38">http://www.silabs.com</a></p></body></html>
